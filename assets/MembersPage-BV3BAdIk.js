import{M as O,E as K,F as U,g as q,a as J}from"./MemberCard-KWpmyef1.js";import{_ as M}from"./UsersIcon.vue_vue_type_script_setup_true_lang-DRbUfaFI.js";import{_ as H,a as Q}from"./ListIcon.vue_vue_type_script_setup_true_lang-CZxNQ0Ja.js";import{B as R,b as W,_ as Y}from"./index-DsBG4J6s.js";import{G as X,C as Z}from"./CalendarIcon-B14_iLAT.js";import{B as ee}from"./BasePagination-DsPU5ZOs.js";import{l as se,r as v,j as m,k as te,C as r,E as s,z as d,O as ae,N as k,u as p,K as c,D as _,G as j,F as B,Q as D,B as F,J as i,y as le}from"./vendor-vue-KPUYMlG2.js";import"./SearchIcon.vue_vue_type_script_setup_true_lang-BvzwYyad.js";import"./vendor-utils-B9ygI19o.js";const oe={class:"members-page"},ne={class:"gradient-hero flowing-gradient-lagoon text-white overflow-hidden page-header"},ie={class:"container"},re={class:"header-content"},de={class:"header-text"},ce={class:"page-title"},ue={class:"header-stats"},ve={class:"stat-card"},me={class:"stat-value"},pe={class:"stat-card"},_e={class:"stat-value"},he={class:"stat-card"},ge={class:"stat-value"},be={class:"page-content"},fe={class:"container"},ke={class:"content-layout"},ye={class:"filter-sidebar"},Ce={class:"members-main"},we={key:0,class:"members-loading"},Me={key:1},je={class:"list-header"},Be={class:"results-info"},De={class:"results-count"},Fe={key:0,class:"active-filters"},Ae={class:"view-toggle"},Se={key:0,class:"members-grid"},xe={key:1,class:"empty-state"},Pe={class:"empty-icon"},$e={key:2,class:"pagination-wrapper"},ze={key:0,class:"member-detail"},Le={class:"member-header"},Ne=["src","alt"],Ee={class:"member-info"},Te={class:"member-name"},Ve={class:"member-role"},Ge={key:0,class:"member-grade"},Ie={class:"member-links"},Oe=["href"],Ke=["href"],Ue={class:"member-content"},qe={key:0,class:"member-bio"},Je={class:"member-skills"},He={class:"skills-list"},Qe={class:"member-stats"},Re={class:"stat-item"},We={class:"stat-value"},Ye={class:"stat-item"},Xe={class:"stat-value"},Ze=se({__name:"MembersPage",setup(es){const u=v([]),y=v(!1),a=v({search:"",role:"all",skills:[],sortBy:"name",isActive:void 0}),f=v("grid"),h=v(1),g=v(12),C=v(!1),o=v(null),A=m(()=>{const t=u.value.reduce((e,n)=>{const l=n.role||"未分类";return e[l]=(e[l]??0)+1,e},{});return[{id:"all",name:"全部成员",count:u.value.length},...Object.entries(t).map(([e,n])=>({id:e,name:e,count:n}))]}),S=["Solidity","Web3.js","React","Vue.js","Python","Django","Node.js","TypeScript","IPFS","Ethereum","DeFi","NFT","Java","Spring","Go","Docker","Kubernetes","MongoDB"],x=m(()=>u.value.length),P=m(()=>u.value.filter(t=>t.isActive).length),$=m(()=>u.value.reduce((t,e)=>t+(e.projectCount||0),0)),z=m(()=>!!(a.value.search||a.value.role!=="all"||a.value.skills.length>0||a.value.isActive!==void 0)),b=m(()=>{let t=[...u.value];if(a.value.search){const e=a.value.search.toLowerCase();t=t.filter(n=>n.name.toLowerCase().includes(e)||n.skills.some(l=>l.toLowerCase().includes(e))||n.role.toLowerCase().includes(e))}return a.value.role&&a.value.role!=="all"&&(t=t.filter(e=>e.role===a.value.role)),a.value.skills.length>0&&(t=t.filter(e=>a.value.skills.every(n=>e.skills.some(l=>l.toLowerCase().includes(n.toLowerCase()))))),a.value.isActive!==void 0&&(t=t.filter(e=>e.isActive===a.value.isActive)),t=t.sort((e,n)=>{switch(a.value.sortBy){case"name":return e.name.localeCompare(n.name);case"joinDate":return new Date(n.joinDate).getTime()-new Date(e.joinDate).getTime();case"projectCount":return(n.projectCount||0)-(e.projectCount||0);case"role":return e.role.localeCompare(n.role);default:return 0}}),t}),L=m(()=>{const t=(h.value-1)*g.value,e=t+g.value;return b.value.slice(t,e)}),N=m(()=>Math.max(g.value*3,30)),w=async()=>{y.value=!0;try{const t=await q({page:0,size:N.value,keyword:a.value.search||void 0,role:a.value.role!=="all"?a.value.role:void 0});u.value=t.content??[]}catch(t){console.error("获取成员列表失败:",t),u.value=[]}finally{y.value=!1}},E=t=>{a.value={...a.value,...t},h.value=1,w()},T=t=>{h.value=t,window.scrollTo({top:0,behavior:"smooth"})},V=t=>{o.value=t,C.value=!0},G=()=>{a.value={search:"",role:"all",skills:[],sortBy:"name",isActive:void 0},h.value=1,w()},I=t=>{const e=new Date(t);return`${e.getFullYear()}年${e.getMonth()+1}月`};return te(()=>{document.title="团队成员 - 大连理工大学区块链组";const t=document.querySelector('meta[name="description"]');if(t)t.setAttribute("content","区块链组团队成员介绍，了解团队专业技能和研究方向");else{const e=document.createElement("meta");e.name="description",e.content="区块链组团队成员介绍，了解团队专业技能和研究方向",document.head.appendChild(e)}w()}),(t,e)=>{var n;return i(),r("div",oe,[s("header",ne,[e[10]||(e[10]=ae('<div class="hero-stars" data-v-b40b814c><span style="top:15%;left:12%;animation-duration:18s;" data-v-b40b814c></span><span style="top:32%;left:80%;animation-duration:21s;animation-delay:1.2s;" data-v-b40b814c></span><span style="top:60%;left:28%;animation-duration:15s;animation-delay:2.4s;" data-v-b40b814c></span><span style="top:78%;left:66%;animation-duration:24s;animation-delay:3.1s;" data-v-b40b814c></span></div>',1)),s("div",ie,[s("div",re,[s("div",de,[s("h1",ce,[d(p(M),{class:"title-icon"}),e[5]||(e[5]=k(" 团队成员 ",-1))]),e[6]||(e[6]=s("p",{class:"page-description"}," 认识我们的团队成员，了解每个人的专业技能和研究方向 ",-1))]),s("div",ue,[s("div",ve,[s("div",me,c(x.value),1),e[7]||(e[7]=s("div",{class:"stat-label"}," 团队成员 ",-1))]),s("div",pe,[s("div",_e,c(P.value),1),e[8]||(e[8]=s("div",{class:"stat-label"}," 活跃成员 ",-1))]),s("div",he,[s("div",ge,c($.value),1),e[9]||(e[9]=s("div",{class:"stat-label"}," 参与项目 ",-1))])])])])]),s("div",be,[s("div",fe,[s("div",ke,[s("aside",ye,[d(O,{filters:a.value,"onUpdate:filters":e[0]||(e[0]=l=>a.value=l),roles:A.value,"tech-stacks":S,onChange:E},null,8,["filters","roles"])]),s("main",Ce,[y.value?(i(),r("div",we,[...e[11]||(e[11]=[s("div",{class:"loading-spinner"},null,-1),s("p",{class:"loading-text"}," 加载成员数据中... ",-1)])])):(i(),r("div",Me,[s("div",je,[s("div",Be,[s("span",De," 共找到 "+c(b.value.length)+" 位成员 ",1),z.value?(i(),r("span",Fe," （已应用筛选条件） ")):_("",!0)]),s("div",Ae,[s("button",{class:j(["view-btn",{active:f.value==="grid"}]),onClick:e[1]||(e[1]=l=>f.value="grid")},[d(p(H))],2),s("button",{class:j(["view-btn",{active:f.value==="list"}]),onClick:e[2]||(e[2]=l=>f.value="list")},[d(p(Q))],2)])]),b.value.length>0?(i(),r("div",Se,[(i(!0),r(B,null,D(L.value,l=>(i(),le(J,{key:l.id,member:l,onClick:ss=>V(l)},null,8,["member","onClick"]))),128))])):(i(),r("div",xe,[s("div",Pe,[d(p(M))]),e[13]||(e[13]=s("h3",{class:"empty-title"}," 未找到匹配的成员 ",-1)),e[14]||(e[14]=s("p",{class:"empty-description"}," 请尝试调整筛选条件或搜索关键词 ",-1)),d(R,{variant:"outline",onClick:G},{default:F(()=>[...e[12]||(e[12]=[k(" 清除所有筛选 ",-1)])]),_:1})])),b.value.length>g.value?(i(),r("div",$e,[d(ee,{current:h.value,"onUpdate:current":e[3]||(e[3]=l=>h.value=l),total:b.value.length,"page-size":g.value,onChange:T},null,8,["current","total","page-size"])])):_("",!0)]))])])])]),d(W,{show:C.value,"onUpdate:show":e[4]||(e[4]=l=>C.value=l),title:((n=o.value)==null?void 0:n.name)||"",size:"lg"},{default:F(()=>[o.value?(i(),r("div",ze,[s("div",Le,[s("img",{src:o.value.avatar||"/images/default-avatar.png",alt:o.value.name,class:"member-avatar-large"},null,8,Ne),s("div",Ee,[s("h2",Te,c(o.value.name),1),s("p",Ve,c(o.value.role),1),o.value.grade&&o.value.major?(i(),r("p",Ge,c(o.value.grade)+" • "+c(o.value.major),1)):_("",!0),s("div",Ie,[o.value.github?(i(),r("a",{key:0,href:o.value.github,target:"_blank",class:"link-btn"},[d(p(X)),e[15]||(e[15]=k(" GitHub ",-1))],8,Oe)):_("",!0),o.value.email?(i(),r("a",{key:1,href:`mailto:${o.value.email}`,class:"link-btn"},[d(p(K)),e[16]||(e[16]=k(" 邮箱 ",-1))],8,Ke)):_("",!0)])])]),s("div",Ue,[o.value.bio?(i(),r("div",qe,[e[17]||(e[17]=s("h3",null,"个人简介",-1)),s("p",null,c(o.value.bio),1)])):_("",!0),s("div",Je,[e[18]||(e[18]=s("h3",null,"技能标签",-1)),s("div",He,[(i(!0),r(B,null,D(o.value.skills,l=>(i(),r("span",{key:l,class:"skill-tag"},c(l),1))),128))])]),s("div",Qe,[s("div",Re,[d(p(Z),{class:"stat-icon"}),s("div",null,[e[19]||(e[19]=s("div",{class:"stat-label"}," 加入时间 ",-1)),s("div",We,c(I(o.value.joinDate)),1)])]),s("div",Ye,[d(p(U),{class:"stat-icon"}),s("div",null,[e[20]||(e[20]=s("div",{class:"stat-label"}," 参与项目 ",-1)),s("div",Xe,c(o.value.projectCount||0)+"个 ",1)])])])])])):_("",!0)]),_:1},8,["show","title"])])}}}),us=Y(Ze,[["__scopeId","data-v-b40b814c"]]);export{us as default};
//# sourceMappingURL=MembersPage-BV3BAdIk.js.map
