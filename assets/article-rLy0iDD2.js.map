{"version":3,"file":"article-rLy0iDD2.js","sources":["../../src/api/article.ts"],"sourcesContent":["import apiService from '@/api/client'\r\nimport type { Article } from '@/types/entities'\r\nimport { ensurePagedData, assertApiResponseSuccess, requireApiResponseData, type PaginationParams, type PageResult } from '@/api/utils'\r\n\r\nexport type PageArticle = PageResult<Article>\r\n\r\n// 获取分页文章列表\r\nexport const getArticles = async (params?: PaginationParams & Record<string, unknown>): Promise<PageArticle> => {\r\n  const res = await apiService.get<PageArticle | Article[]>('/api/posts', { params })\r\n  assertApiResponseSuccess(res, '获取文章列表失败')\r\n  return ensurePagedData<Article>(res.data, params)\r\n}\r\n\r\n// 根据 ID 获取单个文章\r\nexport const getArticle = async (id: string | number): Promise<Article | null> => {\r\n  const res = await apiService.get<Article>(`/api/posts/${id}`)\r\n  assertApiResponseSuccess(res, '获取文章失败')\r\n  return res.data ?? null\r\n}\r\n\r\n// 创建新文章\r\nexport const createArticle = async (payload: Partial<Article>): Promise<Article> => {\r\n  const res = await apiService.post<Article>('/api/posts', payload)\r\n  return requireApiResponseData(res, '创建文章失败')\r\n}\r\n\r\n// 更新文章\r\nexport const updateArticle = async (id: string | number, payload: Partial<Article>): Promise<Article> => {\r\n  const res = await apiService.put<Article>(`/api/posts/${id}`, payload)\r\n  return requireApiResponseData(res, '更新文章失败')\r\n}\r\n\r\n// 删除文章\r\nexport const deleteArticle = async (id: string | number): Promise<void> => {\r\n  const res = await apiService.delete(`/api/posts/${id}`)\r\n  assertApiResponseSuccess(res, '删除文章失败')\r\n}\r\n\r\n"],"names":["getArticles","params","res","apiService","assertApiResponseSuccess","ensurePagedData","createArticle","payload","requireApiResponseData","updateArticle","id","deleteArticle"],"mappings":"6DAOO,MAAMA,EAAc,MAAOC,GAA8E,CAC9G,MAAMC,EAAM,MAAMC,EAAW,IAA6B,aAAc,CAAE,OAAAF,EAAQ,EAClF,OAAAG,EAAyBF,EAAK,UAAU,EACjCG,EAAyBH,EAAI,KAAMD,CAAM,CAClD,EAUaK,EAAgB,MAAOC,GAAgD,CAClF,MAAML,EAAM,MAAMC,EAAW,KAAc,aAAcI,CAAO,EAChE,OAAOC,EAAuBN,EAAK,QAAQ,CAC7C,EAGaO,EAAgB,MAAOC,EAAqBH,IAAgD,CACvG,MAAML,EAAM,MAAMC,EAAW,IAAa,cAAcO,CAAE,GAAIH,CAAO,EACrE,OAAOC,EAAuBN,EAAK,QAAQ,CAC7C,EAGaS,EAAgB,MAAOD,GAAuC,CACzE,MAAMR,EAAM,MAAMC,EAAW,OAAO,cAAcO,CAAE,EAAE,EACtDN,EAAyBF,EAAK,QAAQ,CACxC"}