import{l as W,r as S,j as A,C as d,J as n,u as s,E as t,S as z,G as F,K as v,$ as $t,D as w,F as E,Q as B,P as ut,z as g,N as L,I as H,a as tt,a0 as J,a1 as et,O as vt,y as K,U as it,x as jt,k as rt}from"./vendor-vue-KPUYMlG2.js";import{_ as pt}from"./UsersIcon.vue_vue_type_script_setup_true_lang-DRbUfaFI.js";import{_ as Y,S as dt}from"./index-DsBG4J6s.js";import{C as gt,G as mt}from"./CalendarIcon-B14_iLAT.js";import{c as Q,_ as Ct,a as st}from"./SearchIcon.vue_vue_type_script_setup_true_lang-BvzwYyad.js";import{E as ht,F as bt,A as xt,a as St,R as wt,B as Dt,C as ft,b as kt,c as Mt,d as Pt}from"./rotate-ccw-BDXbvBxF.js";import{c as Lt,g as Tt}from"./project-CsPho4P2.js";import{_ as Ut,a as zt}from"./ListIcon.vue_vue_type_script_setup_true_lang-CZxNQ0Ja.js";import"./vendor-utils-B9ygI19o.js";/**
 * @license lucide-vue-next v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=Q("calendar-check",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]);/**
 * @license lucide-vue-next v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=Q("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);/**
 * @license lucide-vue-next v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=Q("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-vue-next v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=Q("folder-x",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}],["path",{d:"m9.5 10.5 5 5",key:"ra9qjz"}],["path",{d:"m14.5 10.5-5 5",key:"l2rkpq"}]]);/**
 * @license lucide-vue-next v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=Q("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]]);/**
 * @license lucide-vue-next v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=Q("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),Et={class:"project-image"},Bt=["src","alt"],It={class:"project-overlay"},At={class:"tech-stack"},Nt={key:0,class:"tech-tag"},Rt={class:"project-content"},qt={class:"project-header"},Gt={class:"project-title"},Ht={class:"project-category"},Qt={class:"project-description"},Jt={key:0,class:"project-progress"},Kt={class:"progress-info"},Wt={class:"progress-bar"},Yt={class:"progress-text"},Xt={class:"project-meta"},Zt={class:"project-dates"},te={class:"date-item"},ee={key:0,class:"date-item"},se={class:"project-team"},oe={class:"project-footer"},ae={class:"project-stats"},le={class:"stat-item"},ne={class:"project-links"},ie=["href"],ce=["href"],re=W({__name:"ProjectCard",props:{project:{}},emits:["select","like","documentation"],setup(u,{emit:O}){const k=u,h=O,m=S(!1),M=A(()=>String(c.status??"planning").toLowerCase()),y=j=>{const f={planning:"规划中","in-progress":"开发中",completed:"已完成",paused:"已暂停"},D=String(j??"planning").toLowerCase().replace(/_/g,"-");return f[D]||j||"规划中"},r=j=>{if(!j)return"未知";try{const f=j instanceof Date?j:new Date(j),D=f.getFullYear(),V=f.getMonth()+1;return`${D}年${V}月`}catch{return typeof j=="string"?j:"未知"}},_=j=>{const f=j.target;f.src="/images/default-project.png"},$=()=>{const j=!(c.isLiked??!1);c.isLiked=j;const f=c.likes??0;c.likes=j?f+1:Math.max(0,f-1),h("like",k.project)},P=()=>{h("documentation",k.project)},c=k.project;return(j,f)=>{var D,V,N;return n(),d("div",{class:"project-card",onMouseenter:f[2]||(f[2]=i=>m.value=!0),onMouseleave:f[3]||(f[3]=i=>m.value=!1),onClick:f[4]||(f[4]=i=>j.$emit("select",s(c)))},[t("div",Et,[t("img",{src:((D=s(c).images)==null?void 0:D[0])||s(c).imageUrl||"/images/default-project.png",alt:s(c).title||s(c).name||"项目封面",onError:_},null,40,Bt),t("div",{class:F(["status-badge",`status-${M.value}`])},v(y(s(c).status)),3),z(t("div",It,[t("div",At,[(n(!0),d(E,null,B((s(c).techStack??[]).slice(0,4),i=>(n(),d("span",{key:i,class:"tech-tag"},v(i),1))),128)),(((V=s(c).techStack)==null?void 0:V.length)??0)>4?(n(),d("span",Nt," +"+v((((N=s(c).techStack)==null?void 0:N.length)??0)-4),1)):w("",!0)])],512),[[$t,m.value]])]),t("div",Rt,[t("div",qt,[t("h3",Gt,v(s(c).title||s(c).name),1),t("span",Ht,v(s(c).category),1)]),t("p",Qt,v(s(c).shortDescription||s(c).description),1),M.value!=="completed"?(n(),d("div",Jt,[t("div",Kt,[t("div",Wt,[t("div",{class:"progress-fill",style:ut({width:`${s(c).progress??0}%`})},null,4)]),t("span",Yt,v(s(c).progress??0)+"% 完成",1)])])):w("",!0),t("div",Xt,[t("div",Zt,[t("span",te,[g(s(gt),{class:"meta-icon"}),L(" "+v(r(s(c).startDate)),1)]),s(c).endDate?(n(),d("span",ee,[g(s(yt),{class:"meta-icon"}),L(" "+v(r(s(c).endDate)),1)])):w("",!0)]),t("div",se,[g(s(pt),{class:"meta-icon"}),L(" "+v(s(c).teamSize||"1-5")+"人团队 ",1)])]),t("div",oe,[t("div",ae,[t("button",{class:F(["stat-btn",{liked:s(c).isLiked}]),onClick:H($,["stop"])},[g(s(ct),{class:"stat-icon"}),L(" "+v(s(c).likes??0),1)],2),t("span",le,[g(s(ht),{class:"stat-icon"}),L(" "+v(s(c).views??0),1)])]),t("div",ne,[s(c).githubUrl?(n(),d("a",{key:0,href:s(c).githubUrl,target:"_blank",class:"link-btn",title:"GitHub 仓库",onClick:f[0]||(f[0]=H(()=>{},["stop"]))},[g(s(mt))],8,ie)):w("",!0),s(c).demoUrl?(n(),d("a",{key:1,href:s(c).demoUrl,target:"_blank",class:"link-btn",title:"在线演示",onClick:f[1]||(f[1]=H(()=>{},["stop"]))},[g(s(_t))],8,ce)):w("",!0),s(c).documentation?(n(),d("button",{key:2,class:"link-btn",title:"技术文档",onClick:H(P,["stop"])},[g(s(bt))])):w("",!0)])])])],32)}}}),de=Y(re,[["__scopeId","data-v-efd39716"]]),ue={class:"project-filter"},ve={class:"search-section"},pe={class:"search-input-wrapper"},ge={class:"filter-grid"},me={class:"filter-group"},he={class:"category-tags"},be=["onClick"],fe={class:"filter-group"},ke={class:"status-options"},ye=["value"],_e={class:"status-text"},$e={class:"filter-group"},je={class:"tech-stack-filters"},Ce={key:0,class:"selected-techs"},xe=["onClick"],Se={class:"tech-stack-selector"},we=["value"],De={class:"filter-group"},Me={class:"sort-options"},Pe={class:"filter-group"},Le={class:"team-size-options"},Te=["value"],Ue={class:"size-text"},ze={class:"filter-group"},Fe={class:"activity-filter"},Oe={class:"activity-option"},Ve={class:"filter-stats"},Ee={class:"stats-item"},Be={class:"stats-value"},Ie={class:"stats-item"},Ae={class:"stats-value"},Ne={class:"filter-actions"},Re=W({__name:"ProjectFilter",emits:["filter-change"],setup(u,{emit:O}){const k=[{label:"全部",value:"all"},{label:"DeFi",value:"defi"},{label:"NFT",value:"nft"},{label:"Web3",value:"web3"},{label:"智能合约",value:"smart-contract"},{label:"共识算法",value:"consensus"},{label:"钱包",value:"wallet"},{label:"交易所",value:"exchange"},{label:"元宇宙",value:"metaverse"}],h=[{label:"规划中",value:"planning"},{label:"开发中",value:"in-progress"},{label:"已完成",value:"completed"},{label:"已暂停",value:"paused"}],m=["Solidity","Rust","Go","JavaScript","TypeScript","Python","Java","C++","React","Vue.js","Node.js","Web3.js","Ethers.js","Hardhat","Truffle","IPFS","The Graph","GraphQL","PostgreSQL","MongoDB","Redis"],M=[{label:"1-5人",value:"small"},{label:"6-10人",value:"medium"},{label:"11-20人",value:"large"},{label:"20人以上",value:"xlarge"}],y=S(""),r=S("all"),_=S([]),$=S([]),P=S("updateTime"),c=S("desc"),j=S([]),f=S(!1),D=S(""),V=S(45),N=S(45),i=()=>{e()},a=p=>{r.value=p,e()},x=()=>{e()},U=()=>{D.value&&!$.value.includes(D.value)&&($.value.push(D.value),D.value="",e())},T=p=>{const o=$.value.indexOf(p);o>-1&&($.value.splice(o,1),e())},q=()=>{$.value=[],e()},G=()=>{e()},ot=()=>{c.value=c.value==="asc"?"desc":"asc",e()},X=()=>{e()},at=()=>{e()},R=()=>{y.value="",e()},lt=()=>{y.value="",r.value="all",_.value=[],$.value=[],P.value="updateTime",c.value="desc",j.value=[],f.value=!1,D.value="",e()},Z=()=>{const p=l();localStorage.setItem("projectFilters",JSON.stringify(p)),alert("筛选条件已保存")},nt=()=>{const p=l(),o=new URLSearchParams;p.searchQuery&&o.append("search",p.searchQuery),p.category&&p.category!=="all"&&o.append("category",p.category),p.statuses.length&&o.append("statuses",p.statuses.join(",")),p.techStack.length&&o.append("techStack",p.techStack.join(",")),p.teamSizes.length&&o.append("teamSizes",p.teamSizes.join(",")),p.sortBy!=="updateTime"&&o.append("sortBy",p.sortBy),p.sortOrder!=="desc"&&o.append("sortOrder",p.sortOrder),p.showActiveOnly&&o.append("activeOnly","true");const b=`/projects?${o.toString()}`;window.open(b,"_blank")},l=()=>({searchQuery:y.value,category:r.value,statuses:[..._.value],techStack:[...$.value],sortBy:P.value,sortOrder:c.value,teamSizes:[...j.value],showActiveOnly:f.value}),e=()=>{const p=l();C("filter-change",p)};tt([y,r,_,$,j,f],()=>{},{deep:!0});const C=O;return(p,o)=>(n(),d("div",ue,[t("div",ve,[t("div",pe,[g(s(Ct),{class:"search-icon"}),z(t("input",{"onUpdate:modelValue":o[0]||(o[0]=b=>y.value=b),type:"text",placeholder:"搜索项目名称、描述、技术栈...",class:"search-input",onInput:i},null,544),[[J,y.value]]),y.value?(n(),d("button",{key:0,class:"clear-btn",onClick:R},[g(s(st))])):w("",!0)])]),t("div",ge,[t("div",me,[o[6]||(o[6]=t("label",{class:"filter-label"},"项目分类",-1)),t("div",he,[(n(),d(E,null,B(k,b=>t("button",{key:b.value,class:F(["category-tag",{active:r.value===b.value}]),onClick:I=>a(b.value)},v(b.label),11,be)),64))])]),t("div",fe,[o[7]||(o[7]=t("label",{class:"filter-label"},"项目状态",-1)),t("div",ke,[(n(),d(E,null,B(h,b=>t("label",{key:b.value,class:"status-option"},[z(t("input",{"onUpdate:modelValue":o[1]||(o[1]=I=>_.value=I),type:"checkbox",value:b.value,onChange:x},null,40,ye),[[it,_.value]]),t("span",_e,v(b.label),1)])),64))])]),t("div",$e,[o[9]||(o[9]=t("label",{class:"filter-label"},"技术栈",-1)),t("div",je,[$.value.length>0?(n(),d("div",Ce,[(n(!0),d(E,null,B($.value,b=>(n(),d("span",{key:b,class:"selected-tech-tag"},[L(v(b)+" ",1),t("button",{class:"remove-tech-btn",onClick:I=>T(b)},[g(s(st))],8,xe)]))),128)),t("button",{class:"clear-tech-btn",onClick:q}," 清除全部 ")])):w("",!0),t("div",Se,[z(t("select",{"onUpdate:modelValue":o[2]||(o[2]=b=>D.value=b),class:"tech-select",onChange:U},[o[8]||(o[8]=t("option",{value:""}," 选择技术栈 ",-1)),(n(),d(E,null,B(m,b=>t("option",{key:b,value:b},v(b),9,we)),64))],544),[[et,D.value]])])])]),t("div",De,[o[11]||(o[11]=t("label",{class:"filter-label"},"排序方式",-1)),t("div",Me,[z(t("select",{"onUpdate:modelValue":o[3]||(o[3]=b=>P.value=b),class:"sort-select",onChange:G},[...o[10]||(o[10]=[vt('<option value="updateTime" data-v-e2908592> 更新时间 </option><option value="createTime" data-v-e2908592> 创建时间 </option><option value="title" data-v-e2908592> 项目名称 </option><option value="likes" data-v-e2908592> 点赞数 </option><option value="progress" data-v-e2908592> 完成进度 </option>',5)])],544),[[et,P.value]]),t("button",{class:F(["sort-order-btn",{desc:c.value==="desc"}]),onClick:ot},[c.value==="asc"?(n(),K(s(xt),{key:0})):(n(),K(s(St),{key:1}))],2)])]),t("div",Pe,[o[12]||(o[12]=t("label",{class:"filter-label"},"团队规模",-1)),t("div",Le,[(n(),d(E,null,B(M,b=>t("label",{key:b.value,class:"team-size-option"},[z(t("input",{"onUpdate:modelValue":o[4]||(o[4]=I=>j.value=I),type:"checkbox",value:b.value,onChange:X},null,40,Te),[[it,j.value]]),t("span",Ue,v(b.label),1)])),64))])]),t("div",ze,[o[14]||(o[14]=t("label",{class:"filter-label"},"活跃状态",-1)),t("div",Fe,[t("label",Oe,[z(t("input",{"onUpdate:modelValue":o[5]||(o[5]=b=>f.value=b),type:"checkbox",onChange:at},null,544),[[it,f.value]]),o[13]||(o[13]=t("span",{class:"activity-text"},"只显示活跃项目",-1))])])])]),t("div",Ve,[t("div",Ee,[o[15]||(o[15]=t("span",{class:"stats-label"},"共找到",-1)),t("span",Be,v(V.value),1),o[16]||(o[16]=t("span",{class:"stats-label"},"个项目",-1))]),t("div",Ie,[o[17]||(o[17]=t("span",{class:"stats-label"},"显示",-1)),t("span",Ae,v(N.value),1),o[18]||(o[18]=t("span",{class:"stats-label"},"个项目",-1))])]),t("div",Ne,[t("button",{class:"reset-btn",onClick:lt},[g(s(wt)),o[19]||(o[19]=L(" 重置筛选 ",-1))]),t("button",{class:"save-btn",onClick:Z},[g(s(Dt)),o[20]||(o[20]=L(" 保存筛选 ",-1))]),t("button",{class:"export-btn",onClick:nt},[g(s(Ft)),o[21]||(o[21]=L(" 导出结果 ",-1))])])]))}}),qe=Y(Re,[["__scopeId","data-v-e2908592"]]),Ge={class:"modal-content"},He={class:"modal-header"},Qe={class:"header-info"},Je={class:"project-title"},Ke={class:"project-badges"},We={class:"category-badge"},Ye={class:"modal-body"},Xe={class:"content-grid"},Ze={class:"left-content"},ts={key:0,class:"project-gallery"},es={class:"main-image"},ss=["src","alt"],os={key:0,class:"image-thumbnails"},as=["onClick"],ls=["src","alt"],ns={class:"project-description"},is={class:"description-text"},cs={class:"tech-stack-section"},rs={class:"tech-tags"},ds={key:1,class:"project-progress-section"},us={class:"progress-info"},vs={class:"progress-bar"},ps={class:"progress-text"},gs={class:"right-content"},ms={class:"project-stats"},hs={class:"stats-grid"},bs={class:"stat-item"},fs={class:"stat-content"},ks={class:"stat-value"},ys={class:"stat-item"},_s={class:"stat-content"},$s={class:"stat-value"},js={class:"stat-item"},Cs={class:"stat-content"},xs={class:"stat-value"},Ss={class:"stat-item"},ws={class:"stat-content"},Ds={class:"stat-value"},Ms={class:"project-info"},Ps={class:"info-list"},Ls={class:"info-item"},Ts={class:"info-content"},Us={class:"info-value"},zs={key:0,class:"info-item"},Fs={class:"info-content"},Os={class:"info-value"},Vs={class:"info-item"},Es={class:"info-content"},Bs={class:"info-value"},Is={key:0,class:"contributors-section"},As={class:"contributors-list"},Ns={class:"modal-footer"},Rs={class:"footer-actions"},qs={class:"link-buttons"},Gs=["href"],Hs=["href"],Qs=W({__name:"ProjectDetailModal",props:{project:{}},emits:["close","like"],setup(u,{emit:O}){const k=u,h=O,m=S(0),M=A(()=>String(k.project.status??"planning").toLowerCase()),y=A(()=>(k.project.images||[])[m.value]||"/images/default-project.png");tt(()=>k.project.id,()=>{m.value=0});const r=i=>{const a={planning:"规划中","in-progress":"开发中",completed:"已完成",paused:"已暂停"},x=String(i??"planning").toLowerCase().replace(/_/g,"-");return a[x]||i||"规划中"},_=i=>{if(!i)return"未知";try{const a=i instanceof Date?i:new Date(i),x=a.getFullYear(),U=a.getMonth()+1,T=a.getDate();return`${x}年${U}月${T}日`}catch{return typeof i=="string"?i:"未知"}},$=()=>{if(!k.project.startDate)return"未知";const i=k.project.startDate instanceof Date?k.project.startDate:new Date(k.project.startDate),a=k.project.endDate??new Date,x=a instanceof Date?a:new Date(a),U=Math.abs(x.getTime()-i.getTime()),T=Math.ceil(U/(1e3*60*60*24));if(T<30)return`${T}天`;if(T<365)return`${Math.floor(T/30)}个月`;{const q=Math.floor(T/365),G=Math.floor(T%365/30);return G>0?`${q}年${G}个月`:`${q}年`}},P=()=>{const i=k.project.images||[];i.length>0&&(m.value=(m.value+1)%i.length)},c=()=>{const i=k.project.images||[];i.length>0&&(m.value=m.value===0?i.length-1:m.value-1)},j=i=>{const a=i.target;a.src="/images/default-project.png"},f=()=>{const i=!!k.project.isLiked,a=k.project.likes??0,x={...k.project,isLiked:!i,likes:i?Math.max(0,a-1):a+1};h("like",x)},D=()=>{const i=k.project.documentation||k.project.documentationUrl;i&&window.open(i,"_blank")},V=i=>typeof i=="string"?i:i.name||i.id||"团队成员",N=(i,a)=>typeof i=="string"?`${i}-${a}`:String(i.id??`${i.name}-${a}`);return(i,a)=>(n(),d("div",{class:"project-detail-modal",onClick:a[1]||(a[1]=H(x=>i.$emit("close"),["self"]))},[t("div",Ge,[t("div",He,[t("div",Qe,[t("h2",Je,v(u.project.title||u.project.name||"未命名项目"),1),t("div",Ke,[t("span",{class:F(["status-badge",`status-${M.value}`])},v(r(u.project.status)),3),t("span",We,v(u.project.category),1)])]),t("button",{class:"close-btn",onClick:a[0]||(a[0]=x=>i.$emit("close"))},[g(s(st))])]),t("div",Ye,[t("div",Xe,[t("div",Ze,[u.project.images&&u.project.images.length>0?(n(),d("div",ts,[t("div",es,[t("img",{src:y.value,alt:u.project.title||"项目封面",onError:j},null,40,ss),u.project.images&&u.project.images.length>1?(n(),d("button",{key:0,class:"nav-btn prev-btn",onClick:c},[g(s(ft))])):w("",!0),u.project.images&&u.project.images.length>1?(n(),d("button",{key:1,class:"nav-btn next-btn",onClick:P},[g(s(kt))])):w("",!0)]),u.project.images&&u.project.images.length>1?(n(),d("div",os,[(n(!0),d(E,null,B(u.project.images,(x,U)=>(n(),d("button",{key:U,class:F(["thumbnail",{active:U===m.value}]),onClick:T=>m.value=U},[t("img",{src:x,alt:`项目截图 ${U+1}`},null,8,ls)],10,as))),128))])):w("",!0)])):w("",!0),t("div",ns,[a[2]||(a[2]=t("h3",{class:"section-title"}," 项目描述 ",-1)),t("p",is,v(u.project.description||u.project.summary||"暂无项目描述"),1)]),t("div",cs,[a[3]||(a[3]=t("h3",{class:"section-title"}," 技术栈 ",-1)),t("div",rs,[(n(!0),d(E,null,B(u.project.techStack??[],x=>(n(),d("span",{key:x,class:"tech-tag"},v(x),1))),128))])]),M.value!=="completed"?(n(),d("div",ds,[a[4]||(a[4]=t("h3",{class:"section-title"}," 开发进度 ",-1)),t("div",us,[t("div",vs,[t("div",{class:"progress-fill",style:ut({width:`${u.project.progress??0}%`})},null,4)]),t("span",ps,v(u.project.progress??0)+"% 完成",1)])])):w("",!0)]),t("div",gs,[t("div",ms,[a[9]||(a[9]=t("h3",{class:"section-title"}," 项目统计 ",-1)),t("div",hs,[t("div",bs,[g(s(ct),{class:"stat-icon"}),t("div",fs,[t("div",ks,v(u.project.likes??0),1),a[5]||(a[5]=t("div",{class:"stat-label"}," 点赞数 ",-1))])]),t("div",ys,[g(s(ht),{class:"stat-icon"}),t("div",_s,[t("div",$s,v(u.project.views??0),1),a[6]||(a[6]=t("div",{class:"stat-label"}," 查看数 ",-1))])]),t("div",js,[g(s(pt),{class:"stat-icon"}),t("div",Cs,[t("div",xs,v(u.project.teamSize??"未知"),1),a[7]||(a[7]=t("div",{class:"stat-label"}," 团队规模 ",-1))])]),t("div",Ss,[g(s(Mt),{class:"stat-icon"}),t("div",ws,[t("div",Ds,v($()),1),a[8]||(a[8]=t("div",{class:"stat-label"}," 开发周期 ",-1))])])])]),t("div",Ms,[a[13]||(a[13]=t("h3",{class:"section-title"}," 项目信息 ",-1)),t("div",Ps,[t("div",Ls,[g(s(gt),{class:"info-icon"}),t("div",Ts,[a[10]||(a[10]=t("div",{class:"info-label"}," 开始时间 ",-1)),t("div",Us,v(_(u.project.startDate)),1)])]),u.project.endDate?(n(),d("div",zs,[g(s(yt),{class:"info-icon"}),t("div",Fs,[a[11]||(a[11]=t("div",{class:"info-label"}," 预计完成 ",-1)),t("div",Os,v(_(u.project.endDate)),1)])])):w("",!0),t("div",Vs,[g(s(Vt),{class:"info-icon"}),t("div",Es,[a[12]||(a[12]=t("div",{class:"info-label"}," 项目分类 ",-1)),t("div",Bs,v(u.project.category||"未分类"),1)])])])]),u.project.contributors&&u.project.contributors.length>0?(n(),d("div",Is,[a[14]||(a[14]=t("h3",{class:"section-title"}," 团队成员 ",-1)),t("div",As,[(n(!0),d(E,null,B(u.project.contributors,(x,U)=>(n(),d("span",{key:N(x,U),class:"contributor-tag"},v(V(x)),1))),128))])])):w("",!0)])])]),t("div",Ns,[t("div",Rs,[t("button",{class:F(["action-btn like-btn",{liked:u.project.isLiked}]),onClick:f},[g(s(ct),{class:"action-icon"}),L(" "+v(u.project.isLiked?"已点赞":"点赞"),1)],2),t("div",qs,[u.project.githubUrl?(n(),d("a",{key:0,href:u.project.githubUrl,target:"_blank",class:"action-btn link-btn"},[g(s(mt),{class:"action-icon"}),a[15]||(a[15]=L(" GitHub ",-1))],8,Gs)):w("",!0),u.project.demoUrl?(n(),d("a",{key:1,href:u.project.demoUrl,target:"_blank",class:"action-btn link-btn"},[g(s(_t),{class:"action-icon"}),a[16]||(a[16]=L(" 在线演示 ",-1))],8,Hs)):w("",!0),u.project.documentation?(n(),d("button",{key:2,class:"action-btn link-btn",onClick:D},[g(s(bt),{class:"action-icon"}),a[17]||(a[17]=L(" 技术文档 ",-1))])):w("",!0)])])])])]))}}),Js=Y(Qs,[["__scopeId","data-v-ffcbb915"]]),Ks={class:"fixed inset-0 z-50 flex items-center justify-center"},Ws={class:"bg-white rounded-lg shadow-lg w-full max-w-lg z-10 p-6"},Ys={class:"grid grid-cols-1 gap-3"},Xs={class:"flex flex-col"},Zs={class:"flex flex-col"},to={class:"flex flex-col"},eo={class:"flex flex-col"},so={class:"flex flex-col"},oo=W({__name:"ProjectCreateModal",emits:["created","close"],setup(u,{emit:O}){const k=O,h=jt({title:"",shortDescription:"",category:"",status:"planning",progress:0}),m=()=>k("close"),M=async()=>{try{const y={title:h.title,shortDescription:h.shortDescription,description:h.shortDescription,category:h.category,status:h.status,progress:h.progress,likes:0,views:0,isLiked:!1},r=await Lt(y);k("created",r),h.title="",h.shortDescription="",h.category="",h.status="planning",h.progress=0}catch(y){console.error("创建项目失败",y);const r=y instanceof Error?y.message:"创建项目失败";alert(r)}};return(y,r)=>(n(),d("div",Ks,[t("div",{class:"absolute inset-0 bg-black/50",onClick:m}),t("div",Ws,[r[12]||(r[12]=t("h3",{class:"text-lg font-semibold mb-4"}," 创建新项目 ",-1)),t("form",{onSubmit:H(M,["prevent"])},[t("div",Ys,[t("label",Xs,[r[5]||(r[5]=t("span",{class:"text-sm text-gray-700"},"项目标题",-1)),z(t("input",{"onUpdate:modelValue":r[0]||(r[0]=_=>h.title=_),required:"",class:"mt-1 p-2 border rounded"},null,512),[[J,h.title]])]),t("label",Zs,[r[6]||(r[6]=t("span",{class:"text-sm text-gray-700"},"简短描述",-1)),z(t("input",{"onUpdate:modelValue":r[1]||(r[1]=_=>h.shortDescription=_),class:"mt-1 p-2 border rounded"},null,512),[[J,h.shortDescription]])]),t("label",to,[r[7]||(r[7]=t("span",{class:"text-sm text-gray-700"},"分类",-1)),z(t("input",{"onUpdate:modelValue":r[2]||(r[2]=_=>h.category=_),class:"mt-1 p-2 border rounded"},null,512),[[J,h.category]])]),t("label",eo,[r[9]||(r[9]=t("span",{class:"text-sm text-gray-700"},"状态",-1)),z(t("select",{"onUpdate:modelValue":r[3]||(r[3]=_=>h.status=_),class:"mt-1 p-2 border rounded"},[...r[8]||(r[8]=[t("option",{value:"planning"},"规划中",-1),t("option",{value:"in-progress"},"开发中",-1),t("option",{value:"completed"},"已完成",-1),t("option",{value:"paused"},"已暂停",-1)])],512),[[et,h.status]])]),t("label",so,[r[10]||(r[10]=t("span",{class:"text-sm text-gray-700"},"进度（%）",-1)),z(t("input",{"onUpdate:modelValue":r[4]||(r[4]=_=>h.progress=_),type:"number",min:"0",max:"100",class:"mt-1 p-2 border rounded"},null,512),[[J,h.progress,void 0,{number:!0}]])])]),t("div",{class:"mt-4 flex items-center justify-end gap-2"},[t("button",{type:"button",class:"px-4 py-2 rounded border",onClick:m}," 取消 "),r[11]||(r[11]=t("button",{type:"submit",class:"px-4 py-2 rounded bg-blue-600 text-white"}," 创建 ",-1))])],32)])]))}}),ao=Y(oo,[["__scopeId","data-v-9d13987b"]]),lo={class:"projects-page"},no={class:"gradient-hero flowing-gradient-nebula text-white overflow-hidden page-header"},io={class:"header-content"},co={class:"header-stats"},ro={class:"stat-card"},uo={class:"stat-value"},vo={class:"stat-card"},po={class:"stat-value"},go={class:"stat-card"},mo={class:"stat-value"},ho={class:"stat-card"},bo={class:"stat-value"},fo={class:"page-content"},ko={class:"sidebar-header"},yo={class:"projects-main"},_o={class:"projects-toolbar"},$o={class:"toolbar-left"},jo={class:"view-mode-selector"},Co={class:"toolbar-right"},xo={class:"per-page-selector"},So={key:0,class:"loading-container"},wo={key:1,class:"empty-state"},Do={class:"empty-icon"},Mo={key:3,class:"pagination-container"},Po={class:"pagination-info"},Lo={class:"pagination"},To=["disabled"],Uo={class:"pagination-numbers"},zo=["onClick"],Fo=["disabled"],Oo=W({__name:"ProjectsPage",setup(u){rt(()=>{document.title="项目展示 - 大连理工大学区块链组";const l=document.querySelector('meta[name="description"]');if(l)l.setAttribute("content","浏览我们的区块链项目集合，包括DeFi、NFT、智能合约等多个领域的创新项目");else{const e=document.createElement("meta");e.name="description",e.content="浏览我们的区块链项目集合，包括DeFi、NFT、智能合约等多个领域的创新项目",document.head.appendChild(e)}});const O=S(!0),k=S("grid"),h=S(!1),m=S(1),M=S(12),y=S([]),r=S(!1),_=S(null),$=S({}),P=S(0),c=A(()=>{const l=y.value.filter(p=>String(p.status)===String(dt.InProgress)||String(p.status).toUpperCase()==="IN_PROGRESS").length,e=y.value.filter(p=>String(p.status)===String(dt.Completed)||String(p.status).toUpperCase()==="COMPLETED").length,C=new Set(y.value.flatMap(p=>p.contributors||[])).size;return{totalProjects:P.value,activeProjects:l,completedProjects:e,totalContributors:Math.max(C,15)}}),j=A(()=>y.value),f=A(()=>Math.max(1,Math.ceil(P.value/M.value||1))),D=A(()=>y.value),V=A(()=>{if(P.value===0)return{start:0,end:0};const l=(m.value-1)*M.value+1,e=Math.min(m.value*M.value,P.value);return{start:l,end:e}}),N=A(()=>{const l=[],e=f.value,C=m.value,p=2,o=Math.max(1,C-p),b=Math.min(e,C+p);for(let I=o;I<=b;I++)l.push(I);return o>1&&(l.unshift("..."),l.unshift(1)),b<e&&(l.push("..."),e>1&&l.push(e)),l}),i=l=>{$.value={search:l.searchQuery,category:l.category,status:l.statuses&&l.statuses.length>0?l.statuses[0]:void 0,tags:l.techStack||[],sortBy:l.sortBy,sortOrder:l.sortOrder},m.value=1,R()},a=l=>{k.value=l},x=()=>{h.value=!h.value},U=()=>{m.value=1},T=l=>{l>=1&&l<=f.value&&(m.value=l)},q=l=>{_.value=l},G=()=>{_.value=null},ot=l=>{l.documentation&&window.open(l.documentation,"_blank")},X=l=>{var C;const e=y.value.findIndex(p=>p.id===l.id);e>-1&&(y.value[e]={...l}),((C=_.value)==null?void 0:C.id)===l.id&&(_.value={...l})},at=()=>{$.value={},m.value=1,R()},R=async()=>{O.value=!0;try{const l={page:m.value-1,size:M.value,keyword:$.value.search||void 0,category:$.value.category&&$.value.category!=="all"?$.value.category:void 0,status:$.value.status,tag:$.value.tags&&$.value.tags.length>0?$.value.tags[0]:void 0,sortBy:$.value.sortBy,sortOrder:$.value.sortOrder},e=await Tt(l);y.value=e.content||[],P.value=e.totalElements||y.value.length}catch(l){console.error("获取项目列表失败",l),y.value=[],P.value=0}finally{O.value=!1}};tt(m,(l,e)=>{l!==e&&R()}),tt(M,(l,e)=>{l!==e&&(m.value=1,R())}),rt(()=>{R()});const lt=()=>{r.value=!0},Z=()=>{r.value=!1},nt=()=>{Z(),m.value=1,R()};return(l,e)=>(n(),d("div",lo,[t("header",no,[e[10]||(e[10]=vt('<div class="hero-stars" data-v-c3ca6184><span style="top:10%;left:15%;animation-duration:19s;" data-v-c3ca6184></span><span style="top:30%;left:78%;animation-duration:23s;animation-delay:0.8s;" data-v-c3ca6184></span><span style="top:58%;left:25%;animation-duration:16s;animation-delay:2s;" data-v-c3ca6184></span><span style="top:80%;left:65%;animation-duration:25s;animation-delay:3.4s;" data-v-c3ca6184></span></div>',1)),t("div",io,[e[9]||(e[9]=t("div",{class:"header-text"},[t("h1",{class:"page-title"}," 项目展示 "),t("p",{class:"page-description"}," 探索我们的区块链项目，从概念到实现，见证技术的力量 ")],-1)),t("div",co,[t("div",ro,[t("div",uo,v(c.value.totalProjects),1),e[5]||(e[5]=t("div",{class:"stat-label"}," 总项目数 ",-1))]),t("div",vo,[t("div",po,v(c.value.activeProjects),1),e[6]||(e[6]=t("div",{class:"stat-label"}," 活跃项目 ",-1))]),t("div",go,[t("div",mo,v(c.value.completedProjects),1),e[7]||(e[7]=t("div",{class:"stat-label"}," 已完成 ",-1))]),t("div",ho,[t("div",bo,v(c.value.totalContributors),1),e[8]||(e[8]=t("div",{class:"stat-label"}," 贡献者 ",-1))])])])]),t("div",fo,[t("div",{class:F(["filter-sidebar",{"filter-sidebar-mobile":h.value}])},[t("div",ko,[e[11]||(e[11]=t("h3",{class:"sidebar-title"}," 项目筛选 ",-1)),t("button",{class:"close-sidebar-btn md:hidden",onClick:x},[g(s(st))])]),g(qe,{onFilterChange:i})],2),t("div",yo,[t("div",_o,[t("div",$o,[t("button",{class:"mobile-filter-btn md:hidden",onClick:x},[g(s(Pt)),e[12]||(e[12]=L(" 筛选 ",-1))]),t("div",jo,[t("button",{class:F(["view-mode-btn",{active:k.value==="grid"}]),onClick:e[0]||(e[0]=C=>a("grid"))},[g(s(Ut))],2),t("button",{class:F(["view-mode-btn",{active:k.value==="list"}]),onClick:e[1]||(e[1]=C=>a("list"))},[g(s(zt))],2)])]),t("div",Co,[t("div",xo,[z(t("select",{"onUpdate:modelValue":e[2]||(e[2]=C=>M.value=C),class:"per-page-select",onChange:U},[...e[13]||(e[13]=[t("option",{value:"12"}," 12个/页 ",-1),t("option",{value:"24"}," 24个/页 ",-1),t("option",{value:"48"}," 48个/页 ",-1)])],544),[[et,M.value,void 0,{number:!0}]])]),t("div",null,[t("button",{class:"px-3 py-2 bg-green-500 text-white rounded-lg",onClick:lt}," + 新建项目 ")])])]),O.value?(n(),d("div",So,[...e[14]||(e[14]=[t("div",{class:"loading-spinner"},null,-1),t("p",{class:"loading-text"}," 加载项目中... ",-1)])])):j.value.length===0?(n(),d("div",wo,[t("div",Do,[g(s(Ot))]),e[15]||(e[15]=t("h3",{class:"empty-title"}," 未找到匹配的项目 ",-1)),e[16]||(e[16]=t("p",{class:"empty-description"}," 尝试调整筛选条件或搜索关键词 ",-1)),t("button",{class:"empty-action-btn",onClick:at}," 重置筛选条件 ")])):(n(),d("div",{key:2,class:F(["projects-grid",`view-${k.value}`])},[(n(!0),d(E,null,B(D.value,C=>(n(),K(de,{key:C.id,project:C,onSelect:q,onLike:X,onDocumentation:ot},null,8,["project"]))),128))],2)),j.value.length>0?(n(),d("div",Mo,[t("div",Po," 显示 "+v(V.value.start)+" - "+v(V.value.end)+" 项， 共 "+v(P.value)+" 项 ",1),t("div",Lo,[t("button",{disabled:m.value===1,class:"pagination-btn",onClick:e[3]||(e[3]=C=>T(m.value-1))},[g(s(ft)),e[17]||(e[17]=L(" 上一页 ",-1))],8,To),t("div",Uo,[(n(!0),d(E,null,B(N.value,C=>(n(),d("button",{key:C,class:F(["pagination-number",{active:C===m.value}]),onClick:p=>typeof C=="number"&&T(C)},v(C),11,zo))),128))]),t("button",{disabled:m.value===f.value,class:"pagination-btn",onClick:e[4]||(e[4]=C=>T(m.value+1))},[e[18]||(e[18]=L(" 下一页 ",-1)),g(s(kt))],8,Fo)])])):w("",!0)])]),_.value?(n(),K(Js,{key:0,project:_.value,onClose:G,onLike:X},null,8,["project"])):w("",!0),r.value?(n(),K(ao,{key:1,onCreated:nt,onClose:Z})):w("",!0),h.value?(n(),d("div",{key:2,class:"mobile-overlay md:hidden",onClick:x})):w("",!0)]))}}),Ho=Y(Oo,[["__scopeId","data-v-c3ca6184"]]);export{Ho as default};
//# sourceMappingURL=ProjectsPage-BGMFWLGq.js.map
