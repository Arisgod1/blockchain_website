import{M as Y,E as X,F as Z,a as w,g as ee}from"./MemberCard-COHYwgtT.js";import{_ as A}from"./UsersIcon.vue_vue_type_script_setup_true_lang-DRbUfaFI.js";import{_ as te,a as se}from"./ListIcon.vue_vue_type_script_setup_true_lang-CZxNQ0Ja.js";import{B as ae,b as oe,_ as le}from"./index-BMWbWexx.js";import{G as ie,C as ne}from"./CalendarIcon-DZZqptbY.js";import{B as re}from"./BasePagination-DEnt6_dI.js";import{l as de,r as v,j as m,k as ce,C as r,E as s,z as d,O as ue,N as k,u as p,K as c,D as f,G as B,F,Q as N,B as S,J as n,y as ve}from"./vendor-vue-KPUYMlG2.js";import"./SearchIcon.vue_vue_type_script_setup_true_lang-BvzwYyad.js";import"./zhaoshuyang-hVmsYaGY.js";import"./vendor-utils-B9ygI19o.js";function me(M,u){let h=0;return function(...a){const g=Date.now();g-h>=u&&(h=g,M(...a))}}const pe={class:"members-page"},ge={class:"gradient-hero flowing-gradient-lagoon text-white overflow-hidden page-header"},fe={class:"container"},he={class:"header-content"},_e={class:"header-text"},be={class:"page-title"},ye={class:"header-stats"},ke={class:"stat-card"},Ce={class:"stat-value"},je={class:"stat-card"},Me={class:"stat-value"},De={class:"stat-card"},Ae={class:"stat-value"},Be={class:"page-content"},Fe={class:"container"},Ne={class:"content-layout"},Se={class:"filter-sidebar"},$e={class:"members-main"},xe={key:0,class:"members-loading"},ze={key:1},Le={class:"list-header"},Pe={class:"results-info"},Te={class:"results-count"},Ue={key:0,class:"active-filters"},Ee={class:"view-toggle"},Ve={key:0,class:"members-grid"},Ge={key:1,class:"empty-state"},Ie={class:"empty-icon"},Oe={key:2,class:"pagination-wrapper"},Ke={key:0,class:"member-detail"},qe={class:"member-header"},Je=["src","alt"],He={class:"member-info"},Qe={class:"member-name"},Re={class:"member-role"},We={key:0,class:"member-grade"},Ye={class:"member-links"},Xe=["href"],Ze=["href"],we={class:"member-content"},et={key:0,class:"member-bio"},tt={class:"member-skills"},st={class:"skills-list"},at={class:"member-stats"},ot={class:"stat-item"},lt={class:"stat-value"},it={class:"stat-item"},nt={class:"stat-value"},rt=de({__name:"MembersPage",setup(M){const u=v([]),h=v(!1),a=v({search:"",role:"all",skills:[],sortBy:"role",isActive:void 0}),g=v("grid"),_=v(1),b=v(12),C=v(!1),i=v(null),$=m(()=>{const t=u.value.reduce((e,l)=>{const o=l.role||"未分类";return e[o]=(e[o]??0)+1,e},{});return[{id:"all",name:"全部成员",count:u.value.length},...Object.entries(t).map(([e,l])=>({id:e,name:e,count:l}))]}),x=["Solidity","Web3.js","React","Vue.js","Python","Django","Node.js","TypeScript","IPFS","Ethereum","DeFi","NFT","Java","Spring","Go","Docker","Kubernetes","MongoDB"],z=m(()=>u.value.length),L=m(()=>u.value.filter(t=>t.isActive).length),P=m(()=>u.value.reduce((t,e)=>t+(e.projectCount||0),0)),T=m(()=>!!(a.value.search||a.value.role!=="all"||a.value.skills.length>0||a.value.isActive!==void 0)),y=m(()=>{let t=[...u.value];if(a.value.search){const e=a.value.search.toLowerCase();t=t.filter(l=>l.name.toLowerCase().includes(e)||l.skills.some(o=>o.toLowerCase().includes(e))||l.role.toLowerCase().includes(e))}return a.value.role&&a.value.role!=="all"&&(t=t.filter(e=>e.role===a.value.role)),a.value.skills.length>0&&(t=t.filter(e=>a.value.skills.every(l=>e.skills.some(o=>o.toLowerCase().includes(l.toLowerCase()))))),a.value.isActive!==void 0&&(t=t.filter(e=>e.isActive===a.value.isActive)),t=t.sort((e,l)=>{switch(a.value.sortBy){case"name":return e.name.localeCompare(l.name);case"joinDate":return new Date(l.joinDate).getTime()-new Date(e.joinDate).getTime();case"projectCount":return(l.projectCount||0)-(e.projectCount||0);case"role":return e.role.localeCompare(l.role);default:return 0}}),t}),U=m(()=>{const t=(_.value-1)*b.value,e=t+b.value;return y.value.slice(t,e)}),E=m(()=>Math.max(b.value*3,30)),V=t=>{const e=typeof t.joinDate=="string"&&t.joinDate?t.joinDate:typeof t.createdAt=="string"&&t.createdAt?t.createdAt:"",l=Array.isArray(t.skills)?t.skills.filter(W=>typeof W=="string"):[],o=typeof t.projectCount=="number"?t.projectCount:0,D=typeof t.status=="string"?t.status:void 0,J=typeof t.isActive=="boolean"?t.isActive:D==="ACTIVE",H=t.id!==void 0?String(t.id):`${Date.now()}-${Math.random().toString(36).slice(2)}`,Q=typeof t.name=="string"?t.name:"未知成员",R=typeof t.role=="string"?t.role:"成员";return{id:H,name:Q,role:R,avatar:typeof t.avatar=="string"&&t.avatar?t.avatar:typeof t.avatarUrl=="string"?t.avatarUrl:void 0,bio:typeof t.bio=="string"?t.bio:void 0,skills:l,grade:typeof t.grade=="string"?t.grade:void 0,major:typeof t.major=="string"?t.major:void 0,projectCount:o,email:typeof t.email=="string"?t.email:void 0,github:typeof t.github=="string"?t.github:typeof t.githubUrl=="string"?t.githubUrl:void 0,linkedin:typeof t.linkedin=="string"?t.linkedin:typeof t.linkedinUrl=="string"?t.linkedinUrl:void 0,joinDate:e,isActive:J}},j=me(async()=>{h.value=!0;try{const e=(await ee({page:0,size:E.value,keyword:a.value.search||void 0,role:a.value.role!=="all"?a.value.role:void 0})).content??[];u.value=e.map(l=>V(l))}catch(t){console.error("获取成员列表失败:",t),u.value=[]}finally{h.value=!1}},5e3),G=t=>{a.value={...a.value,...t},_.value=1,j()},I=t=>{_.value=t,window.scrollTo({top:0,behavior:"smooth"})},O=t=>{i.value=t,C.value=!0},K=()=>{a.value={search:"",role:"all",skills:[],sortBy:"name",isActive:void 0},_.value=1,j()},q=t=>{if(!t)return"未知";const e=new Date(t);return Number.isNaN(e.getTime())?"未知":`${e.getFullYear()}年${e.getMonth()+1}月`};return ce(()=>{document.title="团队成员 - 大连理工大学区块链组";const t=document.querySelector('meta[name="description"]');if(t)t.setAttribute("content","区块链组团队成员介绍，了解团队专业技能和研究方向");else{const e=document.createElement("meta");e.name="description",e.content="区块链组团队成员介绍，了解团队专业技能和研究方向",document.head.appendChild(e)}j()}),(t,e)=>{var l;return n(),r("div",pe,[s("header",ge,[e[10]||(e[10]=ue('<div class="hero-stars" data-v-4a2676db><span style="top:15%;left:12%;animation-duration:18s;" data-v-4a2676db></span><span style="top:32%;left:80%;animation-duration:21s;animation-delay:1.2s;" data-v-4a2676db></span><span style="top:60%;left:28%;animation-duration:15s;animation-delay:2.4s;" data-v-4a2676db></span><span style="top:78%;left:66%;animation-duration:24s;animation-delay:3.1s;" data-v-4a2676db></span></div>',1)),s("div",fe,[s("div",he,[s("div",_e,[s("h1",be,[d(p(A),{class:"title-icon"}),e[5]||(e[5]=k(" 团队成员 ",-1))]),e[6]||(e[6]=s("p",{class:"page-description"}," 认识我们的团队成员，了解每个人的专业技能和研究方向 ",-1))]),s("div",ye,[s("div",ke,[s("div",Ce,c(z.value),1),e[7]||(e[7]=s("div",{class:"stat-label"}," 团队成员 ",-1))]),s("div",je,[s("div",Me,c(L.value),1),e[8]||(e[8]=s("div",{class:"stat-label"}," 活跃成员 ",-1))]),s("div",De,[s("div",Ae,c(P.value),1),e[9]||(e[9]=s("div",{class:"stat-label"}," 参与项目 ",-1))])])])])]),s("div",Be,[s("div",Fe,[s("div",Ne,[s("aside",Se,[d(Y,{filters:a.value,"onUpdate:filters":e[0]||(e[0]=o=>a.value=o),roles:$.value,"tech-stacks":x,onChange:G},null,8,["filters","roles"])]),s("main",$e,[h.value?(n(),r("div",xe,[...e[11]||(e[11]=[s("div",{class:"loading-spinner"},null,-1),s("p",{class:"loading-text"}," 加载成员数据中... ",-1)])])):(n(),r("div",ze,[s("div",Le,[s("div",Pe,[s("span",Te," 共找到 "+c(y.value.length)+" 位成员 ",1),T.value?(n(),r("span",Ue," （已应用筛选条件） ")):f("",!0)]),s("div",Ee,[s("button",{class:B(["view-btn",{active:g.value==="grid"}]),onClick:e[1]||(e[1]=o=>g.value="grid")},[d(p(te))],2),s("button",{class:B(["view-btn",{active:g.value==="list"}]),onClick:e[2]||(e[2]=o=>g.value="list")},[d(p(se))],2)])]),y.value.length>0?(n(),r("div",Ve,[(n(!0),r(F,null,N(U.value,o=>(n(),ve(w,{key:o.id,member:o,onClick:D=>O(o)},null,8,["member","onClick"]))),128))])):(n(),r("div",Ge,[s("div",Ie,[d(p(A))]),e[13]||(e[13]=s("h3",{class:"empty-title"}," 未找到匹配的成员 ",-1)),e[14]||(e[14]=s("p",{class:"empty-description"}," 请尝试调整筛选条件或搜索关键词 ",-1)),d(ae,{variant:"outline",onClick:K},{default:S(()=>[...e[12]||(e[12]=[k(" 清除所有筛选 ",-1)])]),_:1})])),y.value.length>b.value?(n(),r("div",Oe,[d(re,{current:_.value,"onUpdate:current":e[3]||(e[3]=o=>_.value=o),total:y.value.length,"page-size":b.value,onChange:I},null,8,["current","total","page-size"])])):f("",!0)]))])])])]),d(oe,{show:C.value,"onUpdate:show":e[4]||(e[4]=o=>C.value=o),title:((l=i.value)==null?void 0:l.name)||"",size:"lg"},{default:S(()=>[i.value?(n(),r("div",Ke,[s("div",qe,[s("img",{src:i.value.avatar||"/images/default-avatar.png",alt:i.value.name,class:"member-avatar-large"},null,8,Je),s("div",He,[s("h2",Qe,c(i.value.name),1),s("p",Re,c(i.value.role),1),i.value.grade&&i.value.major?(n(),r("p",We,c(i.value.grade)+" • "+c(i.value.major),1)):f("",!0),s("div",Ye,[i.value.github?(n(),r("a",{key:0,href:i.value.github,target:"_blank",class:"link-btn"},[d(p(ie)),e[15]||(e[15]=k(" GitHub ",-1))],8,Xe)):f("",!0),i.value.email?(n(),r("a",{key:1,href:`mailto:${i.value.email}`,class:"link-btn"},[d(p(X)),e[16]||(e[16]=k(" 邮箱 ",-1))],8,Ze)):f("",!0)])])]),s("div",we,[i.value.bio?(n(),r("div",et,[e[17]||(e[17]=s("h3",null,"个人简介",-1)),s("p",null,c(i.value.bio),1)])):f("",!0),s("div",tt,[e[18]||(e[18]=s("h3",null,"技能标签",-1)),s("div",st,[(n(!0),r(F,null,N(i.value.skills,o=>(n(),r("span",{key:o,class:"skill-tag"},c(o),1))),128))])]),s("div",at,[s("div",ot,[d(p(ne),{class:"stat-icon"}),s("div",null,[e[19]||(e[19]=s("div",{class:"stat-label"}," 加入时间 ",-1)),s("div",lt,c(q(i.value.joinDate)),1)])]),s("div",it,[d(p(Z),{class:"stat-icon"}),s("div",null,[e[20]||(e[20]=s("div",{class:"stat-label"}," 参与项目 ",-1)),s("div",nt,c(i.value.projectCount||0)+"个 ",1)])])])])])):f("",!0)]),_:1},8,["show","title"])])}}}),yt=le(rt,[["__scopeId","data-v-4a2676db"]]);export{yt as default};
//# sourceMappingURL=MembersPage-95DFdlAN.js.map
