import{_ as g,c as y,d as S,f as R,g as V}from"./index-BMWbWexx.js";import{l as _,C as o,E as e,J as l,r as A,a as z,z as v,S as $,D as f,u as h,a0 as L,F as C,Q as x,a1 as T,U,N as I,G as F,K as d,I as w}from"./vendor-vue-KPUYMlG2.js";import{c as B,_ as q,a as G}from"./SearchIcon.vue_vue_type_script_setup_true_lang-BvzwYyad.js";import{d as D}from"./zhaoshuyang-hVmsYaGY.js";import{C as P,G as H}from"./CalendarIcon-DZZqptbY.js";/**
 * @license lucide-vue-next v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=B("folder-kanban",[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]]);/**
 * @license lucide-vue-next v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=B("linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]),O={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"refresh-icon"},Q=_({__name:"RefreshCcwIcon",setup(t){return(i,r)=>(l(),o("svg",O,[...r[0]||(r[0]=[e("path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"},null,-1),e("path",{d:"M3 3v5h5"},null,-1)])]))}}),W=g(Q,[["__scopeId","data-v-a77c7777"]]),Y={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"email-icon"},Z=_({__name:"EmailIcon",setup(t){return(i,r)=>(l(),o("svg",Y,[...r[0]||(r[0]=[e("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},null,-1),e("polyline",{points:"22,6 12,13 2,6"},null,-1)])]))}}),X=g(Z,[["__scopeId","data-v-b0a2c8d0"]]),Le=async t=>{const i=await y.get("/api/members",{params:t});return S(i,"获取成员列表失败"),R(i.data,t)},Te=async t=>{const i=await y.post("/api/members",t);return V(i,"创建成员失败")},Ue=async(t,i)=>{const r=await y.put(`/api/members/${t}`,i);return V(r,"更新成员失败")},qe=async t=>{const i=await y.delete(`/api/members/${t}`);S(i,"删除成员失败")},ee={class:"member-filter"},te={class:"search-section"},se={class:"search-input-wrapper"},ae={class:"filter-section"},ne={class:"filter-chips"},oe=["onClick"],le={key:0,class:"count"},re={class:"filter-section"},ie={class:"filter-section"},ce={class:"status-toggle"},de={class:"toggle-item"},me={class:"filter-actions"},ue=_({__name:"MemberFilter",props:{filters:{},roles:{default:()=>[{id:"all",name:"全部成员",count:28},{id:"leader",name:"组长"},{id:"tech-lead",name:"技术负责人"},{id:"developer",name:"开发成员"},{id:"researcher",name:"研究员"}]},techStacks:{default:()=>["Solidity","Web3.js","React","Vue.js","Python","Django","Node.js","TypeScript","IPFS","Ethereum","DeFi","NFT"]}},emits:["update:filters","change"],setup(t,{emit:i}){const r=t,p=i,n=A(Object.assign({},{search:"",role:"all",skills:[],sortBy:"name",isActive:void 0},r.filters));z(()=>r.filters,k=>{n.value={...n.value,...k}},{deep:!0});const u=()=>{b()},a=()=>{n.value.search="",b()},m=k=>{n.value.role=k,b()},M=()=>{b()},E=()=>{b()},N=()=>{n.value={search:"",role:"all",skills:[],sortBy:"name",isActive:void 0},b()},b=()=>{p("update:filters",{...n.value}),p("change",{...n.value})};return(k,s)=>(l(),o("div",ee,[e("div",te,[e("div",se,[v(h(q),{class:"search-icon"}),$(e("input",{"onUpdate:modelValue":s[0]||(s[0]=c=>n.value.search=c),type:"text",placeholder:"搜索成员姓名...",class:"search-input",onInput:u},null,544),[[L,n.value.search]]),n.value.search?(l(),o("button",{key:0,class:"clear-btn",onClick:a},[v(h(G))])):f("",!0)])]),e("div",ae,[s[3]||(s[3]=e("h4",{class:"filter-title"}," 角色分类 ",-1)),e("div",ne,[(l(!0),o(C,null,x(t.roles,c=>(l(),o("button",{key:c.id,class:F(["filter-chip",{active:n.value.role===c.id}]),onClick:Ae=>m(c.id)},[I(d(c.name)+" ",1),c.count!==void 0?(l(),o("span",le,"("+d(c.count)+")",1)):f("",!0)],10,oe))),128))])]),e("div",re,[s[5]||(s[5]=e("h4",{class:"filter-title"}," 排序方式 ",-1)),$(e("select",{"onUpdate:modelValue":s[1]||(s[1]=c=>n.value.sortBy=c),class:"sort-select",onChange:M},[...s[4]||(s[4]=[e("option",{value:"role"}," 按角色 ",-1),e("option",{value:"name"}," 按姓名排序 ",-1),e("option",{value:"joinDate"}," 按加入时间 ",-1),e("option",{value:"projectCount"}," 按项目数量 ",-1)])],544),[[T,n.value.sortBy]])]),e("div",ie,[s[8]||(s[8]=e("h4",{class:"filter-title"}," 成员状态 ",-1)),e("div",ce,[e("label",de,[$(e("input",{"onUpdate:modelValue":s[2]||(s[2]=c=>n.value.isActive=c),type:"checkbox",onChange:E},null,544),[[U,n.value.isActive]]),s[6]||(s[6]=e("span",{class:"toggle-switch"},null,-1)),s[7]||(s[7]=e("span",{class:"toggle-label"},"仅显示活跃成员",-1))])])]),e("div",me,[e("button",{class:"clear-all-btn",onClick:N},[v(h(W)),s[9]||(s[9]=I(" 清除所有筛选 ",-1))])])]))}}),Ge=g(ue,[["__scopeId","data-v-8a43548e"]]),he={class:"card-front"},ve={class:"member-avatar"},be=["src","alt"],fe={class:"member-name"},pe={key:0,class:"member-grade"},ke={class:"member-skills"},ge={class:"member-stats"},ye={class:"stat"},_e={class:"stat-text"},Me={class:"stat"},$e={class:"stat-text"},we={class:"card-back"},Ce={class:"member-name"},xe={class:"member-bio"},Fe={class:"member-links"},je=["href"],Ie=["href"],De=["href"],Se={class:"member-skills-full"},Ve=_({__name:"MemberCard",props:{member:{}},setup(t,{expose:i}){const r=A(!1),p=u=>({组长:"leader",技术负责人:"tech-lead",前端开发:"frontend",后端开发:"backend",区块链开发:"blockchain",开发成员:"developer",研究员:"researcher"})[u]||"default",j=u=>{if(!u)return"未知";try{const a=new Date(u),m=a.getFullYear(),M=a.getMonth()+1;return`${m}年${M}月加入`}catch{return u}},n=u=>{const a=u.target;a.src=D};return i({isFlipped:r}),(u,a)=>(l(),o("div",{class:"member-card-container",onMouseenter:a[3]||(a[3]=m=>r.value=!0),onMouseleave:a[4]||(a[4]=m=>r.value=!1)},[e("div",{class:F(["card-inner",{"is-flipped":r.value}])},[e("div",he,[e("div",ve,[e("img",{src:t.member.avatar||h(D),alt:t.member.name,onError:n},null,40,be),e("div",{class:F(["member-role-badge",`role-${p(t.member.role)}`])},d(t.member.role),3)]),e("h3",fe,d(t.member.name),1),t.member.grade&&t.member.major?(l(),o("p",pe,d(t.member.grade)+" • "+d(t.member.major),1)):f("",!0),e("div",ke,[(l(!0),o(C,null,x(t.member.skills.slice(0,3),m=>(l(),o("span",{key:m,class:"skill-tag"},d(m),1))),128))]),e("div",ge,[e("div",ye,[v(h(P),{class:"stat-icon"}),e("span",_e,d(j(t.member.joinDate)),1)]),e("div",Me,[v(h(J),{class:"stat-icon"}),e("span",$e,d(t.member.projectCount||Math.floor(Math.random()*10)+1)+"个项目",1)])])]),e("div",we,[e("h3",Ce,d(t.member.name),1),e("p",xe,d(t.member.bio||"暂无个人简介"),1),e("div",Fe,[t.member.github?(l(),o("a",{key:0,href:t.member.github,target:"_blank",class:"link-btn",onClick:a[0]||(a[0]=w(()=>{},["stop"]))},[v(h(H))],8,je)):f("",!0),t.member.email?(l(),o("a",{key:1,href:`mailto:${t.member.email}`,class:"link-btn",onClick:a[1]||(a[1]=w(()=>{},["stop"]))},[v(h(X))],8,Ie)):f("",!0),t.member.linkedin?(l(),o("a",{key:2,href:t.member.linkedin,target:"_blank",class:"link-btn",onClick:a[2]||(a[2]=w(()=>{},["stop"]))},[v(h(K))],8,De)):f("",!0)]),e("div",Se,[(l(!0),o(C,null,x(t.member.skills,m=>(l(),o("span",{key:m,class:"skill-tag"},d(m),1))),128))])])],2)],32))}}),Pe=g(Ve,[["__scopeId","data-v-9cce5511"]]);export{X as E,J as F,Ge as M,Pe as a,Te as c,qe as d,Le as g,Ue as u};
//# sourceMappingURL=MemberCard-COHYwgtT.js.map
