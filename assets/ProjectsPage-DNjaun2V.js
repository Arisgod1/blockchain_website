import{l as K,r as $,j as V,C as v,J as c,u as s,E as t,S as B,G as I,K as p,$ as _t,D as S,F as A,Q as R,P as ct,z as g,N as P,I as G,a as X,a0 as J,a1 as st,O as rt,U as jt,x as $t,k as lt,y as W}from"./vendor-vue-KPUYMlG2.js";import{_ as dt}from"./UsersIcon.vue_vue_type_script_setup_true_lang-DRbUfaFI.js";import{_ as Y,S as it}from"./index-BMWbWexx.js";import{C as ut,G as vt}from"./CalendarIcon-DZZqptbY.js";import{c as Q,_ as Ct,a as et}from"./SearchIcon.vue_vue_type_script_setup_true_lang-BvzwYyad.js";import{E as pt,F as mt,R as xt,B as St,C as gt,a as ht,b as wt,c as Dt}from"./rotate-ccw-C54wwsSK.js";import{c as Mt,g as Pt}from"./project-DmhbM8ze.js";import{_ as Lt,a as Ut}from"./ListIcon.vue_vue_type_script_setup_true_lang-CZxNQ0Ja.js";import"./vendor-utils-B9ygI19o.js";/**
 * @license lucide-vue-next v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=Q("calendar-check",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]);/**
 * @license lucide-vue-next v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=Q("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);/**
 * @license lucide-vue-next v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=Q("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-vue-next v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=Q("folder-x",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}],["path",{d:"m9.5 10.5 5 5",key:"ra9qjz"}],["path",{d:"m14.5 10.5-5 5",key:"l2rkpq"}]]);/**
 * @license lucide-vue-next v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=Q("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]]);/**
 * @license lucide-vue-next v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=Q("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),Ft="/blockchain_website/assets/logo-circle-D4M2lFED.png",Ot={class:"project-image"},Bt=["src","alt"],It={class:"project-overlay"},Vt={class:"tech-stack"},qt={key:0,class:"tech-tag"},Nt={class:"project-content"},At={class:"project-header"},Rt={class:"project-title"},Ht={class:"project-category"},Gt={class:"project-description"},Qt={key:0,class:"project-progress"},Jt={class:"progress-info"},Kt={class:"progress-bar"},Yt={class:"progress-text"},Xt={class:"project-meta"},Zt={class:"project-dates"},Wt={class:"date-item"},ts={key:0,class:"date-item"},ss={class:"project-team"},es={class:"project-footer"},os={class:"project-stats"},as={class:"stat-item"},ns={class:"project-links"},ls=["href"],is=["href"],cs=K({__name:"ProjectCard",props:{project:{}},emits:["select","like","documentation"],setup(i,{emit:z}){const h=i,d=z,m=$(!1),x=V(()=>String(r.status??"planning").toLowerCase()),b=y=>{const f={planning:"规划中","in-progress":"开发中",completed:"已完成",paused:"已暂停"},T=String(y??"planning").toLowerCase().replace(/_/g,"-");return f[T]||y||"规划中"},l=y=>{if(!y)return"未知";try{const f=y instanceof Date?y:new Date(y),T=f.getFullYear(),E=f.getMonth()+1;return`${T}年${E}月`}catch{return typeof y=="string"?y:"未知"}},k=y=>{const f=y.target;f.src="/images/default-project.png"},w=()=>{const y=!(r.isLiked??!1);r.isLiked=y;const f=r.likes??0;r.likes=y?f+1:Math.max(0,f-1),d("like",h.project)},M=()=>{d("documentation",h.project)},r=h.project;return(y,f)=>{var T,E,q;return c(),v("div",{class:"project-card",onMouseenter:f[2]||(f[2]=a=>m.value=!0),onMouseleave:f[3]||(f[3]=a=>m.value=!1),onClick:f[4]||(f[4]=a=>y.$emit("select",s(r)))},[t("div",Ot,[t("img",{src:((T=s(r).images)==null?void 0:T[0])||s(Ft),alt:s(r).title||s(r).name||"项目封面",onError:k},null,40,Bt),t("div",{class:I(["status-badge",`status-${x.value}`])},p(b(s(r).status)),3),B(t("div",It,[t("div",Vt,[(c(!0),v(A,null,R((s(r).techStack??[]).slice(0,4),a=>(c(),v("span",{key:a,class:"tech-tag"},p(a),1))),128)),(((E=s(r).techStack)==null?void 0:E.length)??0)>4?(c(),v("span",qt," +"+p((((q=s(r).techStack)==null?void 0:q.length)??0)-4),1)):S("",!0)])],512),[[_t,m.value]])]),t("div",Nt,[t("div",At,[t("h3",Rt,p(s(r).title||s(r).name),1),t("span",Ht,p(s(r).category),1)]),t("p",Gt,p(s(r).shortDescription||s(r).description),1),x.value!=="completed"?(c(),v("div",Qt,[t("div",Jt,[t("div",Kt,[t("div",{class:"progress-fill",style:ct({width:`${s(r).progress??0}%`})},null,4)]),t("span",Yt,p(s(r).progress??0)+"% 完成",1)])])):S("",!0),t("div",Xt,[t("div",Zt,[t("span",Wt,[g(s(ut),{class:"meta-icon"}),P(" "+p(l(s(r).startDate)),1)]),s(r).endDate?(c(),v("span",ts,[g(s(ft),{class:"meta-icon"}),P(" "+p(l(s(r).endDate)),1)])):S("",!0)]),t("div",ss,[g(s(dt),{class:"meta-icon"}),P(" "+p(s(r).teamSize||"1-5")+"人团队 ",1)])]),t("div",es,[t("div",os,[t("button",{class:I(["stat-btn",{liked:s(r).isLiked}]),onClick:G(w,["stop"])},[g(s(tt),{class:"stat-icon"}),P(" "+p(s(r).likes??0),1)],2),t("span",as,[g(s(pt),{class:"stat-icon"}),P(" "+p(s(r).views??0),1)])]),t("div",ns,[s(r).githubUrl?(c(),v("a",{key:0,href:s(r).githubUrl,target:"_blank",class:"link-btn",title:"GitHub 仓库",onClick:f[0]||(f[0]=G(()=>{},["stop"]))},[g(s(vt))],8,ls)):S("",!0),s(r).demoUrl?(c(),v("a",{key:1,href:s(r).demoUrl,target:"_blank",class:"link-btn",title:"在线演示",onClick:f[1]||(f[1]=G(()=>{},["stop"]))},[g(s(bt))],8,is)):S("",!0),s(r).documentation?(c(),v("button",{key:2,class:"link-btn",title:"技术文档",onClick:G(M,["stop"])},[g(s(mt))])):S("",!0)])])])],32)}}}),rs=Y(cs,[["__scopeId","data-v-6c00a342"]]),ds={class:"project-filter"},us={class:"search-section"},vs={class:"search-input-wrapper"},ps={class:"filter-grid"},ms={class:"filter-group"},gs={class:"status-options"},hs=["value"],fs={class:"status-text"},bs={class:"filter-group"},ks={class:"sort-options"},ys={class:"filter-stats"},_s={class:"stats-item"},js={class:"stats-value"},$s={class:"stats-item"},Cs={class:"stats-value"},xs={class:"filter-actions"},Ss=K({__name:"ProjectFilter",emits:["filter-change"],setup(i,{emit:z}){const h=[{label:"规划中",value:"planning"},{label:"开发中",value:"in-progress"},{label:"已完成",value:"completed"},{label:"已暂停",value:"paused"}],d=$(""),m=$("all"),x=$([]),b=$([]),l=$("updateTime"),k=$("desc"),w=$([]),M=$(!1),r=$(""),y=$(45),f=$(45),T=()=>{F()},E=()=>{F()},q=()=>{F()},a=()=>{d.value="",F()},o=()=>{d.value="",m.value="all",x.value=[],b.value=[],l.value="updateTime",k.value="desc",w.value=[],M.value=!1,r.value="",F()},_=()=>{const j=D();localStorage.setItem("projectFilters",JSON.stringify(j)),alert("筛选条件已保存")},L=()=>{const j=D(),u=new URLSearchParams;j.searchQuery&&u.append("search",j.searchQuery),j.category&&j.category!=="all"&&u.append("category",j.category),j.statuses.length&&u.append("statuses",j.statuses.join(",")),j.techStack.length&&u.append("techStack",j.techStack.join(",")),j.teamSizes.length&&u.append("teamSizes",j.teamSizes.join(",")),j.sortBy!=="updateTime"&&u.append("sortBy",j.sortBy),j.sortOrder!=="desc"&&u.append("sortOrder",j.sortOrder),j.showActiveOnly&&u.append("activeOnly","true");const O=`/projects?${u.toString()}`;window.open(O,"_blank")},D=()=>({searchQuery:d.value,category:m.value,statuses:[...x.value],techStack:[...b.value],sortBy:l.value,sortOrder:k.value,teamSizes:[...w.value],showActiveOnly:M.value}),F=()=>{const j=D();H("filter-change",j)};X([d,m,x,b,w,M],()=>{},{deep:!0});const H=z;return(j,u)=>(c(),v("div",ds,[t("div",us,[t("div",vs,[g(s(Ct),{class:"search-icon"}),B(t("input",{"onUpdate:modelValue":u[0]||(u[0]=O=>d.value=O),type:"text",placeholder:"搜索项目名称、描述...",class:"search-input",onInput:T},null,544),[[J,d.value]]),d.value?(c(),v("button",{key:0,class:"clear-btn",onClick:a},[g(s(et))])):S("",!0)])]),t("div",ps,[t("div",ms,[u[3]||(u[3]=t("label",{class:"filter-label"},"项目状态",-1)),t("div",gs,[(c(),v(A,null,R(h,O=>t("label",{key:O.value,class:"status-option"},[B(t("input",{"onUpdate:modelValue":u[1]||(u[1]=N=>x.value=N),type:"checkbox",value:O.value,onChange:E},null,40,hs),[[jt,x.value]]),t("span",fs,p(O.label),1)])),64))])]),t("div",bs,[u[5]||(u[5]=t("label",{class:"filter-label"},"排序方式",-1)),t("div",ks,[B(t("select",{"onUpdate:modelValue":u[2]||(u[2]=O=>l.value=O),class:"sort-select",onChange:q},[...u[4]||(u[4]=[rt('<option value="updateTime" data-v-05216871> 更新时间 </option><option value="createTime" data-v-05216871> 创建时间 </option><option value="title" data-v-05216871> 项目名称 </option><option value="likes" data-v-05216871> 点赞数 </option><option value="progress" data-v-05216871> 完成进度 </option>',5)])],544),[[st,l.value]])])])]),t("div",ys,[t("div",_s,[u[6]||(u[6]=t("span",{class:"stats-label"},"共找到",-1)),t("span",js,p(y.value),1),u[7]||(u[7]=t("span",{class:"stats-label"},"个项目",-1))]),t("div",$s,[u[8]||(u[8]=t("span",{class:"stats-label"},"显示",-1)),t("span",Cs,p(f.value),1),u[9]||(u[9]=t("span",{class:"stats-label"},"个项目",-1))])]),t("div",xs,[t("button",{class:"reset-btn",onClick:o},[g(s(xt)),u[10]||(u[10]=P(" 重置筛选 ",-1))]),t("button",{class:"save-btn",onClick:_},[g(s(St)),u[11]||(u[11]=P(" 保存筛选 ",-1))]),t("button",{class:"export-btn",onClick:L},[g(s(Tt)),u[12]||(u[12]=P(" 导出结果 ",-1))])])]))}}),ws=Y(Ss,[["__scopeId","data-v-05216871"]]),Ds={class:"modal-content"},Ms={class:"modal-header"},Ps={class:"header-info"},Ls={class:"project-title"},Us={class:"project-badges"},Ts={class:"category-badge"},zs={class:"modal-body"},Es={class:"content-grid"},Fs={class:"left-content"},Os={key:0,class:"project-gallery"},Bs={class:"main-image"},Is=["src","alt"],Vs={key:0,class:"image-thumbnails"},qs=["onClick"],Ns=["src","alt"],As={class:"project-description"},Rs={class:"description-text"},Hs={class:"tech-stack-section"},Gs={class:"tech-tags"},Qs={key:1,class:"project-progress-section"},Js={class:"progress-info"},Ks={class:"progress-bar"},Ys={class:"progress-text"},Xs={class:"right-content"},Zs={class:"project-stats"},Ws={class:"stats-grid"},te={class:"stat-item"},se={class:"stat-content"},ee={class:"stat-value"},oe={class:"stat-item"},ae={class:"stat-content"},ne={class:"stat-value"},le={class:"stat-item"},ie={class:"stat-content"},ce={class:"stat-value"},re={class:"stat-item"},de={class:"stat-content"},ue={class:"stat-value"},ve={class:"project-info"},pe={class:"info-list"},me={class:"info-item"},ge={class:"info-content"},he={class:"info-value"},fe={key:0,class:"info-item"},be={class:"info-content"},ke={class:"info-value"},ye={class:"info-item"},_e={class:"info-content"},je={class:"info-value"},$e={key:0,class:"contributors-section"},Ce={class:"contributors-list"},xe={class:"modal-footer"},Se={class:"footer-actions"},we={class:"link-buttons"},De=["href"],Me=["href"],Pe=K({__name:"ProjectDetailModal",props:{project:{}},emits:["close","like"],setup(i,{emit:z}){const h=i,d=z,m=$(0),x=V(()=>String(h.project.status??"planning").toLowerCase()),b=V(()=>(h.project.images||[])[m.value]||"/images/default-project.png");X(()=>h.project.id,()=>{m.value=0});const l=a=>{const o={planning:"规划中","in-progress":"开发中",completed:"已完成",paused:"已暂停"},_=String(a??"planning").toLowerCase().replace(/_/g,"-");return o[_]||a||"规划中"},k=a=>{if(!a)return"未知";try{const o=a instanceof Date?a:new Date(a),_=o.getFullYear(),L=o.getMonth()+1,D=o.getDate();return`${_}年${L}月${D}日`}catch{return typeof a=="string"?a:"未知"}},w=()=>{if(!h.project.startDate)return"未知";const a=h.project.startDate instanceof Date?h.project.startDate:new Date(h.project.startDate),o=h.project.endDate??new Date,_=o instanceof Date?o:new Date(o),L=Math.abs(_.getTime()-a.getTime()),D=Math.ceil(L/(1e3*60*60*24));if(D<30)return`${D}天`;if(D<365)return`${Math.floor(D/30)}个月`;{const F=Math.floor(D/365),H=Math.floor(D%365/30);return H>0?`${F}年${H}个月`:`${F}年`}},M=()=>{const a=h.project.images||[];a.length>0&&(m.value=(m.value+1)%a.length)},r=()=>{const a=h.project.images||[];a.length>0&&(m.value=m.value===0?a.length-1:m.value-1)},y=a=>{const o=a.target;o.src="/images/default-project.png"},f=()=>{const a=!!h.project.isLiked,o=h.project.likes??0,_={...h.project,isLiked:!a,likes:a?Math.max(0,o-1):o+1};d("like",_)},T=()=>{const a=h.project.documentation||h.project.documentationUrl;a&&window.open(a,"_blank")},E=a=>typeof a=="string"?a:a.name||a.id||"团队成员",q=(a,o)=>typeof a=="string"?`${a}-${o}`:String(a.id??`${a.name}-${o}`);return(a,o)=>(c(),v("div",{class:"project-detail-modal",onClick:o[1]||(o[1]=G(_=>a.$emit("close"),["self"]))},[t("div",Ds,[t("div",Ms,[t("div",Ps,[t("h2",Ls,p(i.project.title||i.project.name||"未命名项目"),1),t("div",Us,[t("span",{class:I(["status-badge",`status-${x.value}`])},p(l(i.project.status)),3),t("span",Ts,p(i.project.category),1)])]),t("button",{class:"close-btn",onClick:o[0]||(o[0]=_=>a.$emit("close"))},[g(s(et))])]),t("div",zs,[t("div",Es,[t("div",Fs,[i.project.images&&i.project.images.length>0?(c(),v("div",Os,[t("div",Bs,[t("img",{src:b.value,alt:i.project.title||"项目封面",onError:y},null,40,Is),i.project.images&&i.project.images.length>1?(c(),v("button",{key:0,class:"nav-btn prev-btn",onClick:r},[g(s(gt))])):S("",!0),i.project.images&&i.project.images.length>1?(c(),v("button",{key:1,class:"nav-btn next-btn",onClick:M},[g(s(ht))])):S("",!0)]),i.project.images&&i.project.images.length>1?(c(),v("div",Vs,[(c(!0),v(A,null,R(i.project.images,(_,L)=>(c(),v("button",{key:L,class:I(["thumbnail",{active:L===m.value}]),onClick:D=>m.value=L},[t("img",{src:_,alt:`项目截图 ${L+1}`},null,8,Ns)],10,qs))),128))])):S("",!0)])):S("",!0),t("div",As,[o[2]||(o[2]=t("h3",{class:"section-title"}," 项目描述 ",-1)),t("p",Rs,p(i.project.description||i.project.summary||"暂无项目描述"),1)]),t("div",Hs,[o[3]||(o[3]=t("h3",{class:"section-title"}," 技术栈 ",-1)),t("div",Gs,[(c(!0),v(A,null,R(i.project.techStack??[],_=>(c(),v("span",{key:_,class:"tech-tag"},p(_),1))),128))])]),x.value!=="completed"?(c(),v("div",Qs,[o[4]||(o[4]=t("h3",{class:"section-title"}," 开发进度 ",-1)),t("div",Js,[t("div",Ks,[t("div",{class:"progress-fill",style:ct({width:`${i.project.progress??0}%`})},null,4)]),t("span",Ys,p(i.project.progress??0)+"% 完成",1)])])):S("",!0)]),t("div",Xs,[t("div",Zs,[o[9]||(o[9]=t("h3",{class:"section-title"}," 项目统计 ",-1)),t("div",Ws,[t("div",te,[g(s(tt),{class:"stat-icon"}),t("div",se,[t("div",ee,p(i.project.likes??0),1),o[5]||(o[5]=t("div",{class:"stat-label"}," 点赞数 ",-1))])]),t("div",oe,[g(s(pt),{class:"stat-icon"}),t("div",ae,[t("div",ne,p(i.project.views??0),1),o[6]||(o[6]=t("div",{class:"stat-label"}," 查看数 ",-1))])]),t("div",le,[g(s(dt),{class:"stat-icon"}),t("div",ie,[t("div",ce,p(i.project.teamSize??"未知"),1),o[7]||(o[7]=t("div",{class:"stat-label"}," 团队规模 ",-1))])]),t("div",re,[g(s(wt),{class:"stat-icon"}),t("div",de,[t("div",ue,p(w()),1),o[8]||(o[8]=t("div",{class:"stat-label"}," 开发周期 ",-1))])])])]),t("div",ve,[o[13]||(o[13]=t("h3",{class:"section-title"}," 项目信息 ",-1)),t("div",pe,[t("div",me,[g(s(ut),{class:"info-icon"}),t("div",ge,[o[10]||(o[10]=t("div",{class:"info-label"}," 开始时间 ",-1)),t("div",he,p(k(i.project.startDate)),1)])]),i.project.endDate?(c(),v("div",fe,[g(s(ft),{class:"info-icon"}),t("div",be,[o[11]||(o[11]=t("div",{class:"info-label"}," 预计完成 ",-1)),t("div",ke,p(k(i.project.endDate)),1)])])):S("",!0),t("div",ye,[g(s(Et),{class:"info-icon"}),t("div",_e,[o[12]||(o[12]=t("div",{class:"info-label"}," 项目分类 ",-1)),t("div",je,p(i.project.category||"未分类"),1)])])])]),i.project.contributors&&i.project.contributors.length>0?(c(),v("div",$e,[o[14]||(o[14]=t("h3",{class:"section-title"}," 团队成员 ",-1)),t("div",Ce,[(c(!0),v(A,null,R(i.project.contributors,(_,L)=>(c(),v("span",{key:q(_,L),class:"contributor-tag"},p(E(_)),1))),128))])])):S("",!0)])])]),t("div",xe,[t("div",Se,[t("button",{class:I(["action-btn like-btn",{liked:i.project.isLiked}]),onClick:f},[g(s(tt),{class:"action-icon"}),P(" "+p(i.project.isLiked?"已点赞":"点赞"),1)],2),t("div",we,[i.project.githubUrl?(c(),v("a",{key:0,href:i.project.githubUrl,target:"_blank",class:"action-btn link-btn"},[g(s(vt),{class:"action-icon"}),o[15]||(o[15]=P(" GitHub ",-1))],8,De)):S("",!0),i.project.demoUrl?(c(),v("a",{key:1,href:i.project.demoUrl,target:"_blank",class:"action-btn link-btn"},[g(s(bt),{class:"action-icon"}),o[16]||(o[16]=P(" 在线演示 ",-1))],8,Me)):S("",!0),i.project.documentation?(c(),v("button",{key:2,class:"action-btn link-btn",onClick:T},[g(s(mt),{class:"action-icon"}),o[17]||(o[17]=P(" 技术文档 ",-1))])):S("",!0)])])])])]))}}),Le=Y(Pe,[["__scopeId","data-v-99e4c87e"]]),Ue={class:"fixed inset-0 z-50 flex items-center justify-center"},Te={class:"bg-white rounded-lg shadow-lg w-full max-w-lg z-10 p-6"},ze={class:"grid grid-cols-1 gap-3"},Ee={class:"flex flex-col"},Fe={class:"flex flex-col"},Oe={class:"flex flex-col"},Be={class:"flex flex-col"},Ie={class:"flex flex-col"},Ve=K({__name:"ProjectCreateModal",emits:["created","close"],setup(i,{emit:z}){const h=z,d=$t({title:"",shortDescription:"",category:"",status:"planning",progress:0}),m=()=>h("close"),x=async()=>{try{const b={title:d.title,shortDescription:d.shortDescription,description:d.shortDescription,category:d.category,status:d.status,progress:d.progress,likes:0,views:0,isLiked:!1},l=await Mt(b);h("created",l),d.title="",d.shortDescription="",d.category="",d.status="planning",d.progress=0}catch(b){console.error("创建项目失败",b);const l=b instanceof Error?b.message:"创建项目失败";alert(l)}};return(b,l)=>(c(),v("div",Ue,[t("div",{class:"absolute inset-0 bg-black/50",onClick:m}),t("div",Te,[l[12]||(l[12]=t("h3",{class:"text-lg font-semibold mb-4"}," 创建新项目 ",-1)),t("form",{onSubmit:G(x,["prevent"])},[t("div",ze,[t("label",Ee,[l[5]||(l[5]=t("span",{class:"text-sm text-gray-700"},"项目标题",-1)),B(t("input",{"onUpdate:modelValue":l[0]||(l[0]=k=>d.title=k),required:"",class:"mt-1 p-2 border rounded"},null,512),[[J,d.title]])]),t("label",Fe,[l[6]||(l[6]=t("span",{class:"text-sm text-gray-700"},"简短描述",-1)),B(t("input",{"onUpdate:modelValue":l[1]||(l[1]=k=>d.shortDescription=k),class:"mt-1 p-2 border rounded"},null,512),[[J,d.shortDescription]])]),t("label",Oe,[l[7]||(l[7]=t("span",{class:"text-sm text-gray-700"},"分类",-1)),B(t("input",{"onUpdate:modelValue":l[2]||(l[2]=k=>d.category=k),class:"mt-1 p-2 border rounded"},null,512),[[J,d.category]])]),t("label",Be,[l[9]||(l[9]=t("span",{class:"text-sm text-gray-700"},"状态",-1)),B(t("select",{"onUpdate:modelValue":l[3]||(l[3]=k=>d.status=k),class:"mt-1 p-2 border rounded"},[...l[8]||(l[8]=[t("option",{value:"planning"},"规划中",-1),t("option",{value:"in-progress"},"开发中",-1),t("option",{value:"completed"},"已完成",-1),t("option",{value:"paused"},"已暂停",-1)])],512),[[st,d.status]])]),t("label",Ie,[l[10]||(l[10]=t("span",{class:"text-sm text-gray-700"},"进度（%）",-1)),B(t("input",{"onUpdate:modelValue":l[4]||(l[4]=k=>d.progress=k),type:"number",min:"0",max:"100",class:"mt-1 p-2 border rounded"},null,512),[[J,d.progress,void 0,{number:!0}]])])]),t("div",{class:"mt-4 flex items-center justify-end gap-2"},[t("button",{type:"button",class:"px-4 py-2 rounded border",onClick:m}," 取消 "),l[11]||(l[11]=t("button",{type:"submit",class:"px-4 py-2 rounded bg-blue-600 text-white"}," 创建 ",-1))])],32)])]))}}),qe=Y(Ve,[["__scopeId","data-v-9d13987b"]]),Ne={class:"projects-page"},Ae={class:"gradient-hero flowing-gradient-nebula text-white overflow-hidden page-header"},Re={class:"header-content"},He={class:"header-stats"},Ge={class:"stat-card"},Qe={class:"stat-value"},Je={class:"stat-card"},Ke={class:"stat-value"},Ye={class:"stat-card"},Xe={class:"stat-value"},Ze={class:"stat-card"},We={class:"stat-value"},to={class:"page-content"},so={class:"sidebar-header"},eo={class:"projects-main"},oo={class:"projects-toolbar"},ao={class:"toolbar-left"},no={class:"view-mode-selector"},lo={class:"toolbar-right"},io={class:"per-page-selector"},co={key:0,class:"loading-container"},ro={key:1,class:"empty-state"},uo={class:"empty-icon"},vo={key:3,class:"pagination-container"},po={class:"pagination-info"},mo={class:"pagination"},go=["disabled"],ho={class:"pagination-numbers"},fo=["onClick"],bo=["disabled"],ko=K({__name:"ProjectsPage",setup(i){lt(()=>{document.title="项目展示 - 大连理工大学区块链组";const n=document.querySelector('meta[name="description"]');if(n)n.setAttribute("content","浏览我们的区块链项目集合，包括DeFi、NFT、智能合约等多个领域的创新项目");else{const e=document.createElement("meta");e.name="description",e.content="浏览我们的区块链项目集合，包括DeFi、NFT、智能合约等多个领域的创新项目",document.head.appendChild(e)}});const z=$(!0),h=$("grid"),d=$(!1),m=$(1),x=$(12),b=$([]),l=$(!1),k=$(null),w=$({}),M=$(0),r=V(()=>{const n=b.value.filter(U=>String(U.status)===String(it.InProgress)||String(U.status).toUpperCase()==="IN_PROGRESS").length,e=b.value.filter(U=>String(U.status)===String(it.Completed)||String(U.status).toUpperCase()==="COMPLETED").length,C=new Set(b.value.flatMap(U=>U.contributors||[])).size;return{totalProjects:M.value,activeProjects:n,completedProjects:e,totalContributors:Math.max(C,15)}}),y=V(()=>b.value),f=V(()=>Math.max(1,Math.ceil(M.value/x.value||1))),T=V(()=>b.value),E=V(()=>{if(M.value===0)return{start:0,end:0};const n=(m.value-1)*x.value+1,e=Math.min(m.value*x.value,M.value);return{start:n,end:e}}),q=V(()=>{const n=[],e=f.value,C=m.value,U=2,at=Math.max(1,C-U),nt=Math.min(e,C+U);for(let Z=at;Z<=nt;Z++)n.push(Z);return at>1&&(n.unshift("..."),n.unshift(1)),nt<e&&(n.push("..."),e>1&&n.push(e)),n}),a=n=>{w.value={search:n.searchQuery,category:n.category,status:n.statuses&&n.statuses.length>0?n.statuses[0]:void 0,tags:n.techStack||[],sortBy:n.sortBy,sortOrder:n.sortOrder},m.value=1,N()},o=n=>{h.value=n},_=()=>{d.value=!d.value},L=()=>{m.value=1},D=n=>{n>=1&&n<=f.value&&(m.value=n)},F=n=>{k.value=n},H=()=>{k.value=null},j=n=>{n.documentation&&window.open(n.documentation,"_blank")},u=n=>{var C;const e=b.value.findIndex(U=>U.id===n.id);e>-1&&(b.value[e]={...n}),((C=k.value)==null?void 0:C.id)===n.id&&(k.value={...n})},O=()=>{w.value={},m.value=1,N()},N=async()=>{z.value=!0;try{const n={page:m.value-1,size:x.value,keyword:w.value.search||void 0,category:w.value.category&&w.value.category!=="all"?w.value.category:void 0,status:w.value.status,tag:w.value.tags&&w.value.tags.length>0?w.value.tags[0]:void 0,sortBy:w.value.sortBy,sortOrder:w.value.sortOrder},e=await Pt(n);b.value=e.content||[],M.value=e.totalElements||b.value.length}catch(n){console.error("获取项目列表失败",n),b.value=[],M.value=0}finally{z.value=!1}};X(m,(n,e)=>{n!==e&&N()}),X(x,(n,e)=>{n!==e&&(m.value=1,N())}),lt(()=>{N()});const kt=()=>{l.value=!0},ot=()=>{l.value=!1},yt=()=>{ot(),m.value=1,N()};return(n,e)=>(c(),v("div",Ne,[t("header",Ae,[e[10]||(e[10]=rt('<div class="hero-stars" data-v-3e724bd3><span style="top:10%;left:15%;animation-duration:19s;" data-v-3e724bd3></span><span style="top:30%;left:78%;animation-duration:23s;animation-delay:0.8s;" data-v-3e724bd3></span><span style="top:58%;left:25%;animation-duration:16s;animation-delay:2s;" data-v-3e724bd3></span><span style="top:80%;left:65%;animation-duration:25s;animation-delay:3.4s;" data-v-3e724bd3></span></div>',1)),t("div",Re,[e[9]||(e[9]=t("div",{class:"header-text"},[t("h1",{class:"page-title"}," 项目展示 "),t("p",{class:"page-description"}," 探索我们的区块链项目，从概念到实现，见证技术的力量 ")],-1)),t("div",He,[t("div",Ge,[t("div",Qe,p(r.value.totalProjects),1),e[5]||(e[5]=t("div",{class:"stat-label"}," 总项目数 ",-1))]),t("div",Je,[t("div",Ke,p(r.value.activeProjects),1),e[6]||(e[6]=t("div",{class:"stat-label"}," 活跃项目 ",-1))]),t("div",Ye,[t("div",Xe,p(r.value.completedProjects),1),e[7]||(e[7]=t("div",{class:"stat-label"}," 已完成 ",-1))]),t("div",Ze,[t("div",We,p(r.value.totalContributors),1),e[8]||(e[8]=t("div",{class:"stat-label"}," 贡献者 ",-1))])])])]),t("div",to,[t("div",{class:I(["filter-sidebar",{"filter-sidebar-mobile":d.value}])},[t("div",so,[e[11]||(e[11]=t("h3",{class:"sidebar-title"}," 项目筛选 ",-1)),t("button",{class:"close-sidebar-btn md:hidden",onClick:_},[g(s(et))])]),g(ws,{onFilterChange:a})],2),t("div",eo,[t("div",oo,[t("div",ao,[t("button",{class:"mobile-filter-btn md:hidden",onClick:_},[g(s(Dt)),e[12]||(e[12]=P(" 筛选 ",-1))]),t("div",no,[t("button",{class:I(["view-mode-btn",{active:h.value==="grid"}]),onClick:e[0]||(e[0]=C=>o("grid"))},[g(s(Lt))],2),t("button",{class:I(["view-mode-btn",{active:h.value==="list"}]),onClick:e[1]||(e[1]=C=>o("list"))},[g(s(Ut))],2)])]),t("div",lo,[t("div",io,[B(t("select",{"onUpdate:modelValue":e[2]||(e[2]=C=>x.value=C),class:"per-page-select",onChange:L},[...e[13]||(e[13]=[t("option",{value:"12"}," 12个/页 ",-1),t("option",{value:"24"}," 24个/页 ",-1),t("option",{value:"48"}," 48个/页 ",-1)])],544),[[st,x.value,void 0,{number:!0}]])]),t("div",null,[t("button",{class:"px-3 py-2 bg-green-500 text-white rounded-lg",onClick:kt}," + 新建项目 ")])])]),z.value?(c(),v("div",co,[...e[14]||(e[14]=[t("div",{class:"loading-spinner"},null,-1),t("p",{class:"loading-text"}," 加载项目中... ",-1)])])):y.value.length===0?(c(),v("div",ro,[t("div",uo,[g(s(zt))]),e[15]||(e[15]=t("h3",{class:"empty-title"}," 未找到匹配的项目 ",-1)),e[16]||(e[16]=t("p",{class:"empty-description"}," 尝试调整筛选条件或搜索关键词 ",-1)),t("button",{class:"empty-action-btn",onClick:O}," 重置筛选条件 ")])):(c(),v("div",{key:2,class:I(["projects-grid",`view-${h.value}`])},[(c(!0),v(A,null,R(T.value,C=>(c(),W(rs,{key:C.id,project:C,onSelect:F,onLike:u,onDocumentation:j},null,8,["project"]))),128))],2)),y.value.length>0?(c(),v("div",vo,[t("div",po," 显示 "+p(E.value.start)+" - "+p(E.value.end)+" 项， 共 "+p(M.value)+" 项 ",1),t("div",mo,[t("button",{disabled:m.value===1,class:"pagination-btn",onClick:e[3]||(e[3]=C=>D(m.value-1))},[g(s(gt)),e[17]||(e[17]=P(" 上一页 ",-1))],8,go),t("div",ho,[(c(!0),v(A,null,R(q.value,C=>(c(),v("button",{key:C,class:I(["pagination-number",{active:C===m.value}]),onClick:U=>typeof C=="number"&&D(C)},p(C),11,fo))),128))]),t("button",{disabled:m.value===f.value,class:"pagination-btn",onClick:e[4]||(e[4]=C=>D(m.value+1))},[e[18]||(e[18]=P(" 下一页 ",-1)),g(s(ht))],8,bo)])])):S("",!0)])]),k.value?(c(),W(Le,{key:0,project:k.value,onClose:H,onLike:u},null,8,["project"])):S("",!0),l.value?(c(),W(qe,{key:1,onCreated:yt,onClose:ot})):S("",!0),d.value?(c(),v("div",{key:2,class:"mobile-overlay md:hidden",onClick:_})):S("",!0)]))}}),Mo=Y(ko,[["__scopeId","data-v-3e724bd3"]]);export{Mo as default};
//# sourceMappingURL=ProjectsPage-DNjaun2V.js.map
