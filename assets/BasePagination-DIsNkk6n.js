import{l as T,j as m,C as u,G as n,D as w,E as l,F as k,Q as z,N as d,K as h,J as c}from"./vendor-vue-KPUYMlG2.js";import{_ as A}from"./index-nGx1-O2v.js";const G=["value"],H=["value"],J=["disabled"],Q=["disabled","onClick"],q=["disabled"],R=T({__name:"BasePagination",props:{currentPage:{default:void 0},current:{default:void 0},pageSize:{},total:{},pageSizeOptions:{default:()=>[10,20,50,100]},showPageSize:{type:Boolean,default:!0},showInfo:{type:Boolean,default:!0},maxVisiblePages:{default:7}},emits:["update:currentPage","update:current","update:pageSize","pageChange","pageSizeChange"],setup(g,{emit:P}){const s=g,f=P,o=m(()=>s.currentPage??s.current??1),S=`page-size-${Math.random().toString(36).substr(2,9)}`,i=m(()=>Math.ceil(s.total/s.pageSize)),M=m(()=>s.total===0?0:(o.value-1)*s.pageSize+1),B=m(()=>Math.min(o.value*s.pageSize,s.total)),V=m(()=>{const a=(p,b)=>typeof p=="number"?`page-${p}`:`ellipsis-${b}`;if(i.value<=s.maxVisiblePages)return Array.from({length:i.value},(p,b)=>({value:b+1,key:`page-${b+1}`}));const e=[],t=Math.floor(s.maxVisiblePages/2);let r=Math.max(1,o.value-t);const v=Math.min(i.value,r+s.maxVisiblePages-1);v-r+1<s.maxVisiblePages&&(r=Math.max(1,v-s.maxVisiblePages+1)),r>1&&(e.push({value:1,key:a(1,e.length)}),r>2&&e.push({value:"...",key:a("...",e.length)}));for(let p=r;p<=v;p++)e.push({value:p,key:a(p,e.length)});return v<i.value&&(v<i.value-1&&e.push({value:"...",key:a("...",e.length)}),e.push({value:i.value,key:a(i.value,e.length)})),e}),I=["flex","items-center","justify-between","flex-wrap","gap-4","py-4"],$=["flex","items-center","gap-2","text-sm"],j=["text-neutral-600","whitespace-nowrap"],N=["px-3","py-1","border","border-neutral-300","rounded-lg","bg-white","text-sm","focus:outline-none","focus:ring-2","focus:ring-primary-500","focus:border-transparent"],D=["text-neutral-600","whitespace-nowrap"],E=["flex","items-center","gap-2"],F=["flex","items-center","gap-1"],K=["px-2","py-1","text-neutral-400","select-none"],L=["text-sm","text-neutral-600","whitespace-nowrap"],y=["font-medium","text-neutral-800"];function C(a=!1,e=!1){const t=["px-3","py-2","text-sm","font-medium","transition-colors","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-offset-1"];return e&&t.push("inline-flex","items-center","gap-1"),a?t.push("bg-primary-600","text-white","cursor-default"):t.push("text-neutral-600","hover:text-neutral-800","hover:bg-neutral-50","focus:ring-primary-500"),(o.value<=1&&!e||o.value>=i.value&&!e)&&t.push("cursor-not-allowed","opacity-50"),t}function x(a){a<1||a>i.value||a===o.value||(f("update:currentPage",a),f("update:current",a),f("pageChange",a))}function O(a){const e=a.target,t=parseInt(e.value);if(f("update:pageSize",t),f("pageSizeChange",t),o.value>Math.ceil(s.total/t)){const r=Math.ceil(s.total/t);r>0&&x(r)}}return(a,e)=>(c(),u("nav",{class:n(I),role:"navigation","aria-label":"分页导航"},[g.showPageSize?(c(),u("div",{key:0,class:n($)},[l("label",{for:S,class:n(j)}," 每页显示 "),l("select",{id:S,value:g.pageSize,class:n(N),onChange:O},[(c(!0),u(k,null,z(g.pageSizeOptions,t=>(c(),u("option",{key:t,value:t},h(t),9,H))),128))],40,G),l("span",{class:n(D)},"条")])):w("",!0),l("div",{class:n(E)},[l("button",{disabled:o.value<=1,class:n(C(!1,!0)),onClick:e[0]||(e[0]=t=>x(o.value-1))},[...e[2]||(e[2]=[l("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),d(" 上一页 ",-1)])],10,J),l("div",{class:n(F)},[(c(!0),u(k,null,z(V.value,t=>(c(),u(k,{key:t.key},[t.value==="..."?(c(),u("span",{key:0,class:n(K)}," ... ")):(c(),u("button",{key:1,class:n(C(t.value===o.value)),disabled:t.value===o.value,onClick:r=>x(t.value)},h(t.value),11,Q))],64))),128))]),l("button",{disabled:o.value>=i.value,class:n(C(!1,!0)),onClick:e[1]||(e[1]=t=>x(o.value+1))},[...e[3]||(e[3]=[d(" 下一页 ",-1),l("svg",{class:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])],10,q)]),g.showInfo?(c(),u("div",{key:1,class:n(L)},[e[4]||(e[4]=d(" 显示第 ",-1)),l("span",{class:n(y)},h(M.value),1),e[5]||(e[5]=d(" - ",-1)),l("span",{class:n(y)},h(B.value),1),e[6]||(e[6]=d(" 条， 共 ",-1)),l("span",{class:n(y)},h(g.total),1),e[7]||(e[7]=d(" 条记录 ",-1))])):w("",!0)]))}}),X=A(R,[["__scopeId","data-v-255b38e9"]]);export{X as B};
//# sourceMappingURL=BasePagination-DIsNkk6n.js.map
