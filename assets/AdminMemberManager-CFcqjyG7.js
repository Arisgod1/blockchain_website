import{c as T,B as U,b as G,_ as K,a as ne,o as re,L as de,r as ue}from"./index-nGx1-O2v.js";import{e as ve}from"./utils-BZMi4_q3.js";import{B as x}from"./BaseCard-CWEc-iHt.js";import{B as me}from"./BasePagination-DIsNkk6n.js";import{_ as ce,a as fe}from"./ListIcon.vue_vue_type_script_setup_true_lang-CZxNQ0Ja.js";import{M as be,a as pe}from"./MemberCard-BtTJCM8y.js";import{l as O,j as z,y as te,B as g,C as u,D as C,E as e,K as m,G as N,F as q,Q as I,N as h,z as f,u as p,J as r,r as _,a as se,S as D,a0 as B,a1 as Z,a3 as ge,I as ee,k as ke,e as he}from"./vendor-vue-KPUYMlG2.js";import"./vendor-utils-B9ygI19o.js";import"./SearchIcon.vue_vue_type_script_setup_true_lang-BvzwYyad.js";import"./CalendarIcon-CtO84p5-.js";const we=async n=>{const v=await T.get("/api/members",{params:n});if(!v.success)throw new Error(v.message||"è·å–æˆå‘˜åˆ—è¡¨å¤±è´¥");return ve(v.data,n)},$e=async n=>{const v=await T.post("/api/members",n);if(!v.success)throw new Error(v.message||"åˆ›å»ºæˆå‘˜å¤±è´¥");if(!v.data)throw new Error("åˆ›å»ºæˆå‘˜æœªè¿”å›æ•°æ®");return v.data},ye=async(n,v)=>{const y=await T.put(`/api/members/${n}`,v);if(!y.success)throw new Error(y.message||"æ›´æ–°æˆå‘˜å¤±è´¥");if(!y.data)throw new Error("æ›´æ–°æˆå‘˜æœªè¿”å›æ•°æ®");return y.data},Ce=async n=>{const v=await T.delete(`/api/members/${n}`);if(!v.success)throw new Error(v.message||"åˆ é™¤æˆå‘˜å¤±è´¥")},_e={key:0,class:"member-detail-content"},Me={class:"detail-section"},De={class:"info-grid"},Ae={class:"info-item"},Se={class:"info-item"},Ve={class:"info-item"},Be={class:"info-item"},je={class:"info-item"},ze=["href"],Ue={class:"info-item"},Ee={key:0,class:"detail-section"},Le={class:"bio-text"},xe={class:"detail-section"},qe={class:"skills-container"},Ie={key:1,class:"detail-section"},Fe={class:"social-links"},Ne=["href"],Te=["href"],Pe={key:2,class:"detail-section"},He={class:"avatar-container"},Ge=["src","alt"],Ke=O({__name:"MemberDetailModal",props:{show:{type:Boolean},member:{}},emits:["close","update:show"],setup(n,{emit:v}){const y=n,A=v,a=k=>new Date(k).toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric"}),c=z({get:()=>y.show,set:k=>A("update:show",k)});return(k,s)=>{var w;return r(),te(p(G),{show:c.value,title:((w=n.member)==null?void 0:w.name)+" - è¯¦ç»†ä¿¡æ¯",size:"lg",onClose:s[1]||(s[1]=S=>k.$emit("close"))},{footer:g(()=>[f(p(U),{variant:"secondary",onClick:s[0]||(s[0]=S=>k.$emit("close"))},{default:g(()=>[...s[15]||(s[15]=[h(" å…³é—­ ",-1)])]),_:1})]),default:g(()=>[n.member?(r(),u("div",_e,[e("div",Me,[s[8]||(s[8]=e("h3",{class:"section-title"}," åŸºæœ¬ä¿¡æ¯ ",-1)),e("div",De,[e("div",Ae,[s[2]||(s[2]=e("label",null,"å§“åï¼š",-1)),e("span",null,m(n.member.name),1)]),e("div",Se,[s[3]||(s[3]=e("label",null,"èŒä½ï¼š",-1)),e("span",null,m(n.member.role),1)]),e("div",Ve,[s[4]||(s[4]=e("label",null,"å¹´çº§ï¼š",-1)),e("span",null,m(n.member.grade),1)]),e("div",Be,[s[5]||(s[5]=e("label",null,"åŠ å…¥æ—¶é—´ï¼š",-1)),e("span",null,m(a(n.member.joinDate)),1)]),e("div",je,[s[6]||(s[6]=e("label",null,"é‚®ç®±ï¼š",-1)),e("a",{href:`mailto:${n.member.email}`},m(n.member.email),9,ze)]),e("div",Ue,[s[7]||(s[7]=e("label",null,"çŠ¶æ€ï¼š",-1)),e("span",{class:N(["status-badge",n.member.isActive?"active":"inactive"])},m(n.member.isActive?"æ´»è·ƒ":"éæ´»è·ƒ"),3)])])]),n.member.bio?(r(),u("div",Ee,[s[9]||(s[9]=e("h3",{class:"section-title"}," ä¸ªäººç®€ä»‹ ",-1)),e("p",Le,m(n.member.bio),1)])):C("",!0),e("div",xe,[s[10]||(s[10]=e("h3",{class:"section-title"}," æŠ€èƒ½ç‰¹é•¿ ",-1)),e("div",qe,[(r(!0),u(q,null,I(n.member.skills,S=>(r(),u("span",{key:S,class:"skill-tag"},m(S),1))),128))])]),n.member.github||n.member.linkedin?(r(),u("div",Ie,[s[13]||(s[13]=e("h3",{class:"section-title"}," ç¤¾äº¤é“¾æ¥ ",-1)),e("div",Fe,[n.member.github?(r(),u("a",{key:0,href:n.member.github,target:"_blank",class:"social-link github-link"},[...s[11]||(s[11]=[e("span",{class:"social-icon"},"ğŸ™",-1),h(" GitHub ",-1)])],8,Ne)):C("",!0),n.member.linkedin?(r(),u("a",{key:1,href:n.member.linkedin,target:"_blank",class:"social-link linkedin-link"},[...s[12]||(s[12]=[e("span",{class:"social-icon"},"ğŸ’¼",-1),h(" LinkedIn ",-1)])],8,Te)):C("",!0)])])):C("",!0),n.member.avatar?(r(),u("div",Pe,[s[14]||(s[14]=e("h3",{class:"section-title"}," å¤´åƒ ",-1)),e("div",He,[e("img",{src:n.member.avatar,alt:n.member.name,class:"detail-avatar"},null,8,Ge)])])):C("",!0)])):C("",!0)]),_:1},8,["show","title"])}}}),Oe=K(Ke,[["__scopeId","data-v-2d5de46e"]]),Re={class:"form-content"},Je={class:"form-section"},Qe={class:"form-row"},We={class:"form-group"},Xe={key:0,class:"error-message"},Ye={class:"form-group"},Ze={key:0,class:"error-message"},et={class:"form-row"},tt={class:"form-group"},st={class:"form-group"},lt={key:0,class:"error-message"},at={class:"form-row"},it={class:"form-group"},ot={key:0,class:"error-message"},nt={class:"form-group"},rt={class:"form-group"},dt={key:0,class:"error-message"},ut={class:"form-group"},vt={class:"form-section"},mt={class:"form-group"},ct={class:"skills-input-container"},ft=["onKeydown"],bt=["disabled"],pt={key:0,class:"skills-list"},gt=["onClick"],kt={key:1,class:"empty-skills"},ht={key:2,class:"error-message"},wt={class:"form-section"},$t={class:"form-group"},yt={class:"form-group"},Ct=O({__name:"MemberEditModal",props:{show:{type:Boolean},member:{},isCreate:{type:Boolean}},emits:["close","save","update:show"],setup(n,{emit:v}){const y=n,A=v,a=_({id:"",name:"",role:"",avatar:"",bio:"",skills:[],grade:"",email:"",github:"",linkedin:"",joinDate:"",isActive:!0}),c=_(""),k=_(!1),s=_({});se(()=>y.member,b=>{b?a.value={...b}:S()},{immediate:!0});const w=z({get:()=>y.show,set:b=>A("update:show",b)}),S=()=>{a.value={id:"",name:"",role:"",avatar:"",bio:"",skills:[],grade:"",email:"",github:"",linkedin:"",joinDate:"",isActive:!0},c.value="",s.value={}},L=()=>{if(!c.value.trim())return;const b=c.value.trim();a.value.skills.includes(b)||(a.value.skills.push(b),c.value="",delete s.value.skills)},F=b=>{a.value.skills.splice(b,1)},M=()=>{var b,l,d;return s.value={},(b=a.value.name)!=null&&b.trim()||(s.value.name="è¯·è¾“å…¥æˆå‘˜å§“å"),(l=a.value.role)!=null&&l.trim()||(s.value.role="è¯·è¾“å…¥èŒä½"),(d=a.value.email)!=null&&d.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.value.email)||(s.value.email="è¯·è¾“å…¥æœ‰æ•ˆçš„é‚®ç®±åœ°å€"):s.value.email="è¯·è¾“å…¥é‚®ç®±åœ°å€",a.value.joinDate||(s.value.joinDate="è¯·é€‰æ‹©åŠ å…¥æ—¶é—´"),(!a.value.skills||a.value.skills.length===0)&&(s.value.skills="è¯·è‡³å°‘æ·»åŠ ä¸€ä¸ªæŠ€èƒ½"),a.value.avatar&&!/^https?:\/\/.+/.test(a.value.avatar)&&(s.value.avatar="è¯·è¾“å…¥æœ‰æ•ˆçš„å›¾ç‰‡é“¾æ¥"),a.value.github&&!/^https?:\/\/.+/.test(a.value.github)&&(s.value.github="è¯·è¾“å…¥æœ‰æ•ˆçš„GitHubé“¾æ¥"),a.value.linkedin&&!/^https?:\/\/.+/.test(a.value.linkedin)&&(s.value.linkedin="è¯·è¾“å…¥æœ‰æ•ˆçš„LinkedIné“¾æ¥"),Object.keys(s.value).length===0},P=async()=>{var b,l,d,E;if(M()){k.value=!0;try{await new Promise(H=>setTimeout(H,1e3));const V={id:a.value.id||`member_${Date.now()}`,name:a.value.name.trim(),role:a.value.role.trim(),avatar:((b=a.value.avatar)==null?void 0:b.trim())||"",bio:((l=a.value.bio)==null?void 0:l.trim())||"",skills:a.value.skills,grade:a.value.grade||"",email:a.value.email.trim(),github:((d=a.value.github)==null?void 0:d.trim())||"",linkedin:((E=a.value.linkedin)==null?void 0:E.trim())||"",joinDate:a.value.joinDate,isActive:a.value.isActive};A("save",V)}catch(V){console.error("ä¿å­˜æˆå‘˜ä¿¡æ¯å¤±è´¥:",V)}finally{k.value=!1}}};return(b,l)=>(r(),te(p(G),{show:w.value,title:n.isCreate?"æ·»åŠ æ–°æˆå‘˜":"ç¼–è¾‘æˆå‘˜ä¿¡æ¯",size:"lg",onClose:l[12]||(l[12]=d=>b.$emit("close"))},{footer:g(()=>[f(p(U),{type:"button",variant:"secondary",onClick:l[11]||(l[11]=d=>b.$emit("close"))},{default:g(()=>[...l[29]||(l[29]=[h(" å–æ¶ˆ ",-1)])]),_:1}),f(p(U),{type:"submit",form:"member-edit-form",variant:"primary",loading:k.value},{default:g(()=>[h(m(n.isCreate?"åˆ›å»º":"ä¿å­˜"),1)]),_:1},8,["loading"])]),default:g(()=>[e("form",{id:"member-edit-form",class:"member-edit-form",onSubmit:ee(P,["prevent"])},[e("div",Re,[e("div",Je,[l[23]||(l[23]=e("h3",{class:"section-title"}," åŸºæœ¬ä¿¡æ¯ ",-1)),e("div",Qe,[e("div",We,[l[13]||(l[13]=e("label",{for:"name"},[h("å§“å "),e("span",{class:"required"},"*")],-1)),D(e("input",{id:"name","onUpdate:modelValue":l[0]||(l[0]=d=>a.value.name=d),type:"text",class:"form-input",placeholder:"è¯·è¾“å…¥æˆå‘˜å§“å",required:""},null,512),[[B,a.value.name]]),s.value.name?(r(),u("span",Xe,m(s.value.name),1)):C("",!0)]),e("div",Ye,[l[14]||(l[14]=e("label",{for:"role"},[h("èŒä½ "),e("span",{class:"required"},"*")],-1)),D(e("input",{id:"role","onUpdate:modelValue":l[1]||(l[1]=d=>a.value.role=d),type:"text",class:"form-input",placeholder:"è¯·è¾“å…¥èŒä½",required:""},null,512),[[B,a.value.role]]),s.value.role?(r(),u("span",Ze,m(s.value.role),1)):C("",!0)])]),e("div",et,[e("div",tt,[l[16]||(l[16]=e("label",{for:"grade"},"å¹´çº§",-1)),D(e("select",{id:"grade","onUpdate:modelValue":l[2]||(l[2]=d=>a.value.grade=d),class:"form-input"},[...l[15]||(l[15]=[e("option",{value:""}," è¯·é€‰æ‹©å¹´çº§ ",-1),e("option",{value:"å¤§ä¸€"}," å¤§ä¸€ ",-1),e("option",{value:"å¤§äºŒ"}," å¤§äºŒ ",-1),e("option",{value:"å¤§ä¸‰"}," å¤§ä¸‰ ",-1),e("option",{value:"å¤§å››"}," å¤§å›› ",-1),e("option",{value:"ç ”ä¸€"}," ç ”ä¸€ ",-1),e("option",{value:"ç ”äºŒ"}," ç ”äºŒ ",-1),e("option",{value:"ç ”ä¸‰"}," ç ”ä¸‰ ",-1),e("option",{value:"åšå£«"}," åšå£« ",-1)])],512),[[Z,a.value.grade]])]),e("div",st,[l[17]||(l[17]=e("label",{for:"email"},[h("é‚®ç®± "),e("span",{class:"required"},"*")],-1)),D(e("input",{id:"email","onUpdate:modelValue":l[3]||(l[3]=d=>a.value.email=d),type:"email",class:"form-input",placeholder:"è¯·è¾“å…¥é‚®ç®±åœ°å€",required:""},null,512),[[B,a.value.email]]),s.value.email?(r(),u("span",lt,m(s.value.email),1)):C("",!0)])]),e("div",at,[e("div",it,[l[18]||(l[18]=e("label",{for:"joinDate"},[h("åŠ å…¥æ—¶é—´ "),e("span",{class:"required"},"*")],-1)),D(e("input",{id:"joinDate","onUpdate:modelValue":l[4]||(l[4]=d=>a.value.joinDate=d),type:"date",class:"form-input",required:""},null,512),[[B,a.value.joinDate]]),s.value.joinDate?(r(),u("span",ot,m(s.value.joinDate),1)):C("",!0)]),e("div",nt,[l[20]||(l[20]=e("label",{for:"status"},"çŠ¶æ€",-1)),D(e("select",{id:"status","onUpdate:modelValue":l[5]||(l[5]=d=>a.value.isActive=d),class:"form-input"},[...l[19]||(l[19]=[e("option",{value:!0}," æ´»è·ƒ ",-1),e("option",{value:!1}," éæ´»è·ƒ ",-1)])],512),[[Z,a.value.isActive]])])]),e("div",rt,[l[21]||(l[21]=e("label",{for:"avatar"},"å¤´åƒé“¾æ¥",-1)),D(e("input",{id:"avatar","onUpdate:modelValue":l[6]||(l[6]=d=>a.value.avatar=d),type:"url",class:"form-input",placeholder:"è¯·è¾“å…¥å¤´åƒå›¾ç‰‡é“¾æ¥"},null,512),[[B,a.value.avatar]]),s.value.avatar?(r(),u("span",dt,m(s.value.avatar),1)):C("",!0)]),e("div",ut,[l[22]||(l[22]=e("label",{for:"bio"},"ä¸ªäººç®€ä»‹",-1)),D(e("textarea",{id:"bio","onUpdate:modelValue":l[7]||(l[7]=d=>a.value.bio=d),class:"form-textarea",rows:"3",placeholder:"è¯·è¾“å…¥ä¸ªäººç®€ä»‹ï¼ˆå¯é€‰ï¼‰"},null,512),[[B,a.value.bio]])])]),e("div",vt,[l[25]||(l[25]=e("h3",{class:"section-title"}," æŠ€èƒ½ç‰¹é•¿ ",-1)),e("div",mt,[l[24]||(l[24]=e("label",null,[h("æŠ€èƒ½åˆ—è¡¨ "),e("span",{class:"required"},"*")],-1)),e("div",ct,[D(e("input",{"onUpdate:modelValue":l[8]||(l[8]=d=>c.value=d),type:"text",class:"form-input",placeholder:"è¾“å…¥æŠ€èƒ½åæŒ‰å›è½¦æ·»åŠ ",onKeydown:ge(ee(L,["prevent"]),["enter"])},null,40,ft),[[B,c.value]]),e("button",{type:"button",class:"add-skill-btn",disabled:!c.value.trim(),onClick:L}," æ·»åŠ  ",8,bt)]),a.value.skills&&a.value.skills.length>0?(r(),u("div",pt,[(r(!0),u(q,null,I(a.value.skills,(d,E)=>(r(),u("div",{key:E,class:"skill-tag editable"},[h(m(d)+" ",1),e("button",{type:"button",class:"remove-skill-btn",onClick:V=>F(E)}," Ã— ",8,gt)]))),128))])):(r(),u("div",kt," æš‚æ— æŠ€èƒ½ï¼Œç‚¹å‡»ä¸Šæ–¹è¾“å…¥æ¡†æ·»åŠ æŠ€èƒ½ ")),s.value.skills?(r(),u("span",ht,m(s.value.skills),1)):C("",!0)])]),e("div",wt,[l[28]||(l[28]=e("h3",{class:"section-title"}," ç¤¾äº¤é“¾æ¥ ",-1)),e("div",$t,[l[26]||(l[26]=e("label",{for:"github"},"GitHub é“¾æ¥",-1)),D(e("input",{id:"github","onUpdate:modelValue":l[9]||(l[9]=d=>a.value.github=d),type:"url",class:"form-input",placeholder:"https://github.com/username"},null,512),[[B,a.value.github]])]),e("div",yt,[l[27]||(l[27]=e("label",{for:"linkedin"},"LinkedIn é“¾æ¥",-1)),D(e("input",{id:"linkedin","onUpdate:modelValue":l[10]||(l[10]=d=>a.value.linkedin=d),type:"url",class:"form-input",placeholder:"https://linkedin.com/in/username"},null,512),[[B,a.value.linkedin]])])])])],32)]),_:1},8,["show","title"]))}}),_t=K(Ct,[["__scopeId","data-v-cedd5d03"]]),Mt={class:"admin-member-manager"},Dt={class:"manager-header"},At={class:"header-actions"},St={class:"filter-section"},Vt={class:"stats-section"},Bt={class:"stats-grid"},jt={class:"stat-content"},zt={class:"stat-info"},Ut={class:"stat-number"},Et={class:"stat-content"},Lt={class:"stat-info"},xt={class:"stat-number"},qt={class:"stat-content"},It={class:"stat-info"},Ft={class:"stat-number"},Nt={class:"stat-content"},Tt={class:"stat-info"},Pt={class:"stat-number"},Ht={class:"members-section"},Gt={class:"section-header"},Kt={class:"view-controls"},Ot={key:0,class:"loading-container"},Rt={key:1,class:"empty-state"},Jt={key:2},Qt={key:0,class:"members-grid"},Wt={key:1,class:"members-list"},Xt={class:"member-list-content"},Yt={class:"member-main-info"},Zt={class:"member-avatar"},es=["src","alt"],ts={key:1,class:"avatar-placeholder"},ss={class:"member-details"},ls={class:"member-meta"},as={class:"meta-item"},is={class:"meta-item"},os={class:"meta-item"},ns={class:"member-skills"},rs={key:0,class:"more-skills"},ds={class:"member-actions"},us=["onClick"],vs=["onClick"],ms=["title","onClick"],cs=["onClick"],fs={class:"pagination-section"},bs=O({__name:"AdminMemberManager",setup(n){ne({title:"æˆå‘˜ç®¡ç† - ç®¡ç†å‘˜åå°",meta:[{name:"description",content:"ç®¡ç†å›¢é˜Ÿæˆå‘˜ä¿¡æ¯ã€æŸ¥çœ‹ç»Ÿè®¡æ•°æ®"}]});const v=_([]),y=_(!1),A=_("grid"),a=_({search:"",status:"",sortBy:"name",sortOrder:"asc",skills:[],role:"all"}),c=_({current:1,pageSize:12,total:0}),k=_({show:!1,member:null}),s=_({show:!1,member:null,isCreate:!1}),w=_({show:!1,member:null,loading:!1}),S=z(()=>{let i=[...v.value];if(a.value.search){const t=a.value.search.toLowerCase();i=i.filter(o=>o.name.toLowerCase().includes(t)||o.role.toLowerCase().includes(t)||o.skills.some($=>$.toLowerCase().includes(t)))}return a.value.status==="active"?i=i.filter(t=>t.isActive):a.value.status==="inactive"&&(i=i.filter(t=>!t.isActive)),i.sort((t,o)=>{const $=a.value.sortBy,j=t[$]??"",Y=o[$]??"";return a.value.sortOrder==="asc"?j>Y?1:-1:j<Y?1:-1}),i}),L=z(()=>{const i=(c.value.current-1)*c.value.pageSize,t=i+c.value.pageSize;return S.value.slice(i,t)});se(S,i=>{c.value.total=i.length});const F=[],M=(i,t,o="success",$)=>{ue({entity:"members",action:i,message:t,targetId:$,result:o}).catch(j=>{console.warn("è®°å½•æˆå‘˜æ“ä½œæ—¥å¿—å¤±è´¥:",j)})},P=z(()=>v.value.length),b=z(()=>v.value.filter(i=>i.isActive).length),l=z(()=>{const i=new Date;return i.setDate(1),i.setHours(0,0,0,0),v.value.filter(t=>new Date(t.joinDate)>=i).length}),d=z(()=>{if(v.value.length===0)return 0;const i=v.value.reduce((t,o)=>t+o.skills.length,0);return Math.round(i/v.value.length*10)/10}),E=i=>new Date(i).toLocaleDateString("zh-CN"),V=async()=>{y.value=!0;try{const i=await we({page:c.value.current-1,size:c.value.pageSize,keyword:a.value.search});v.value=i.content,c.value.total=i.totalElements}catch(i){console.error("åŠ è½½æˆå‘˜æ•°æ®å¤±è´¥:",i)}finally{y.value=!1}},H=()=>{c.value.current=1},le=i=>{c.value.current=i},R=()=>{s.value={show:!0,member:null,isCreate:!0}},J=i=>{k.value={show:!0,member:i}},Q=i=>{s.value={show:!0,member:{...i},isCreate:!1}},W=async i=>{var t;try{await new Promise(j=>setTimeout(j,500));const o=v.value.findIndex(j=>j.id===i.id);o!==-1&&(v.value[o].isActive=!v.value[o].isActive);const $=(t=v.value[o])!=null&&t.isActive?"æ´»è·ƒ":"éæ´»è·ƒ";M("update",`åˆ‡æ¢æˆå‘˜ã€Œ${i.name}ã€çŠ¶æ€ä¸º ${$}`,"success",i.id)}catch(o){console.error("åˆ‡æ¢æˆå‘˜çŠ¶æ€å¤±è´¥:",o),M("update",`åˆ‡æ¢æˆå‘˜ã€Œ${i.name}ã€çŠ¶æ€å¤±è´¥`,"failure",i.id)}},X=i=>{w.value={show:!0,member:i,loading:!1}},ae=async i=>{try{if(s.value.isCreate){const t=await $e(i);M("create",`åˆ›å»ºæˆå‘˜ã€Œ${t.name}ã€`,"success",t.id)}else{const t=await ye(i.id,i);M("update",`æ›´æ–°æˆå‘˜ã€Œ${t.name}ã€`,"success",t.id)}await V(),s.value.show=!1}catch(t){console.error("ä¿å­˜æˆå‘˜å¤±è´¥:",t);const o=s.value.isCreate?"create":"update";M(o,`ä¿å­˜æˆå‘˜ã€Œ${i.name}ã€å¤±è´¥`,"failure",i.id)}},ie=async()=>{const i=w.value.member;if(i){w.value.loading=!0;try{await Ce(i.id),await V(),w.value.show=!1,M("delete",`åˆ é™¤æˆå‘˜ã€Œ${i.name}ã€`,"success",i.id)}catch(t){console.error("åˆ é™¤æˆå‘˜å¤±è´¥:",t),M("delete",`åˆ é™¤æˆå‘˜ã€Œ${i.name}ã€å¤±è´¥`,"failure",i.id)}finally{w.value.loading=!1}}},oe=()=>{V(),M("refresh","æ‰‹åŠ¨åˆ·æ–°æˆå‘˜åˆ—è¡¨")};return ke(()=>{V();const i=re(t=>{(t.entity==="all"||t.entity==="members")&&(V(),M("refresh",`å…¨å±€è§¦å‘ ${t.action??"refresh"} åŒæ­¥æˆå‘˜æ•°æ®`))});F.push(i)}),he(()=>{F.forEach(i=>i())}),(i,t)=>(r(),u("div",Mt,[e("div",Dt,[t[11]||(t[11]=e("h2",null,"æˆå‘˜ç®¡ç†",-1)),e("div",At,[f(p(U),{variant:"primary",onClick:R},{default:g(()=>[...t[9]||(t[9]=[h(" + æ·»åŠ æˆå‘˜ ",-1)])]),_:1}),f(p(U),{variant:"secondary",onClick:oe},{default:g(()=>[...t[10]||(t[10]=[h(" åˆ·æ–° ",-1)])]),_:1})])]),e("div",St,[f(be,{filters:a.value,"onUpdate:filters":t[0]||(t[0]=o=>a.value=o),onChange:H},null,8,["filters"])]),e("div",Vt,[e("div",Bt,[f(p(x),{class:"stat-card"},{default:g(()=>[e("div",jt,[t[13]||(t[13]=e("div",{class:"stat-icon member-icon"}," ğŸ‘¥ ",-1)),e("div",zt,[e("div",Ut,m(P.value),1),t[12]||(t[12]=e("div",{class:"stat-label"}," æ€»æˆå‘˜æ•° ",-1))])])]),_:1}),f(p(x),{class:"stat-card"},{default:g(()=>[e("div",Et,[t[15]||(t[15]=e("div",{class:"stat-icon active-icon"}," âœ… ",-1)),e("div",Lt,[e("div",xt,m(b.value),1),t[14]||(t[14]=e("div",{class:"stat-label"}," æ´»è·ƒæˆå‘˜ ",-1))])])]),_:1}),f(p(x),{class:"stat-card"},{default:g(()=>[e("div",qt,[t[17]||(t[17]=e("div",{class:"stat-icon new-icon"}," ğŸ†• ",-1)),e("div",It,[e("div",Ft,m(l.value),1),t[16]||(t[16]=e("div",{class:"stat-label"}," æœ¬æœˆæ–°å¢ ",-1))])])]),_:1}),f(p(x),{class:"stat-card"},{default:g(()=>[e("div",Nt,[t[19]||(t[19]=e("div",{class:"stat-icon skills-icon"}," ğŸ¯ ",-1)),e("div",Tt,[e("div",Pt,m(d.value),1),t[18]||(t[18]=e("div",{class:"stat-label"}," å¹³å‡æŠ€èƒ½æ•° ",-1))])])]),_:1})])]),e("div",Ht,[f(p(x),{class:"content-card"},{header:g(()=>[e("div",Gt,[t[20]||(t[20]=e("h3",null,"æˆå‘˜åˆ—è¡¨",-1)),e("div",Kt,[e("button",{class:N(["view-btn",{active:A.value==="grid"}]),onClick:t[1]||(t[1]=o=>A.value="grid")},[f(p(ce),{size:"16"})],2),e("button",{class:N(["view-btn",{active:A.value==="list"}]),onClick:t[2]||(t[2]=o=>A.value="list")},[f(p(fe),{size:"16"})],2)])])]),default:g(()=>[y.value?(r(),u("div",Ot,[f(p(de)),t[21]||(t[21]=e("p",null,"åŠ è½½æˆå‘˜æ•°æ®ä¸­...",-1))])):S.value.length===0?(r(),u("div",Rt,[t[23]||(t[23]=e("div",{class:"empty-icon"}," ğŸ‘¥ ",-1)),t[24]||(t[24]=e("h3",null,"æš‚æ— æˆå‘˜è®°å½•",-1)),t[25]||(t[25]=e("p",null,"æ‚¨è¿˜æ²¡æœ‰æ·»åŠ ä»»ä½•å›¢é˜Ÿæˆå‘˜",-1)),f(p(U),{variant:"primary",onClick:R},{default:g(()=>[...t[22]||(t[22]=[h(" æ·»åŠ ç¬¬ä¸€ä¸ªæˆå‘˜ ",-1)])]),_:1})])):(r(),u("div",Jt,[A.value==="grid"?(r(),u("div",Qt,[(r(!0),u(q,null,I(L.value,o=>(r(),u("div",{key:o.id,class:"member-grid-item"},[f(pe,{member:o,"show-actions":!0,onView:J,onEdit:Q,onDelete:X,onToggleStatus:W},null,8,["member"])]))),128))])):(r(),u("div",Wt,[(r(!0),u(q,null,I(L.value,o=>(r(),u("div",{key:o.id,class:"member-list-item"},[e("div",Xt,[e("div",Yt,[e("div",Zt,[o.avatar?(r(),u("img",{key:0,src:o.avatar,alt:o.name,class:"avatar-image"},null,8,es)):(r(),u("div",ts,m(o.name.charAt(0).toUpperCase()),1))]),e("div",ss,[e("h4",null,m(o.name),1),e("div",ls,[e("span",as,m(o.role),1),e("span",is," ğŸ“… "+m(E(o.joinDate)),1),e("span",os," ğŸ”§ "+m(o.skills.length)+" é¡¹æŠ€èƒ½ ",1),e("span",{class:N(["status-badge",o.isActive?"active":"inactive"])},m(o.isActive?"æ´»è·ƒ":"éæ´»è·ƒ"),3)]),e("div",ns,[(r(!0),u(q,null,I(o.skills.slice(0,3),$=>(r(),u("span",{key:$,class:"skill-tag"},m($),1))),128)),o.skills.length>3?(r(),u("span",rs," +"+m(o.skills.length-3),1)):C("",!0)])])]),e("div",ds,[e("button",{class:"action-btn view-btn",title:"æŸ¥çœ‹è¯¦æƒ…",onClick:$=>J(o)}," ğŸ‘ï¸ ",8,us),e("button",{class:"action-btn edit-btn",title:"ç¼–è¾‘",onClick:$=>Q(o)}," âœï¸ ",8,vs),e("button",{class:"action-btn toggle-btn",title:o.isActive?"è®¾ä¸ºéæ´»è·ƒ":"è®¾ä¸ºæ´»è·ƒ",onClick:$=>W(o)},m(o.isActive?"â¸ï¸":"â–¶ï¸"),9,ms),e("button",{class:"action-btn delete-btn",title:"åˆ é™¤",onClick:$=>X(o)}," ğŸ—‘ï¸ ",8,cs)])])]))),128))])),e("div",fs,[f(p(me),{current:c.value.current,"page-size":c.value.pageSize,total:c.value.total,onChange:le},null,8,["current","page-size","total"])])]))]),_:1})]),f(Oe,{show:k.value.show,"onUpdate:show":t[3]||(t[3]=o=>k.value.show=o),member:k.value.member,onClose:t[4]||(t[4]=o=>k.value.show=!1)},null,8,["show","member"]),f(_t,{show:s.value.show,"onUpdate:show":t[5]||(t[5]=o=>s.value.show=o),member:s.value.member,"is-create":s.value.isCreate,onSave:ae,onClose:t[6]||(t[6]=o=>s.value.show=!1)},null,8,["show","member","is-create"]),f(p(G),{show:w.value.show,"onUpdate:show":t[8]||(t[8]=o=>w.value.show=o),title:"ç¡®è®¤åˆ é™¤",size:"sm"},{footer:g(()=>[f(p(U),{variant:"secondary",onClick:t[7]||(t[7]=o=>w.value.show=!1)},{default:g(()=>[...t[26]||(t[26]=[h(" å–æ¶ˆ ",-1)])]),_:1}),f(p(U),{variant:"danger",loading:w.value.loading,onClick:ie},{default:g(()=>[...t[27]||(t[27]=[h(" åˆ é™¤ ",-1)])]),_:1},8,["loading"])]),default:g(()=>{var o;return[e("p",null,"ç¡®å®šè¦åˆ é™¤æˆå‘˜ã€Œ"+m((o=w.value.member)==null?void 0:o.name)+"ã€å—ï¼Ÿ",1),t[28]||(t[28]=e("p",{class:"warning-text"}," æ­¤æ“ä½œä¸å¯æ’¤é”€ã€‚ ",-1))]}),_:1},8,["show"])]))}}),Ds=K(bs,[["__scopeId","data-v-a282948c"]]);export{Ds as default};
//# sourceMappingURL=AdminMemberManager-CFcqjyG7.js.map
