import{_ as $,c as C,d as S,f as z,g as D}from"./index-DsBG4J6s.js";import{l as M,C as o,E as e,J as r,r as V,a as L,z as h,S as x,D as k,u as v,a0 as T,F as g,Q as _,a1 as U,U as q,N as I,G as y,K as d,I as F}from"./vendor-vue-KPUYMlG2.js";import{c as B,_ as G,a as P}from"./SearchIcon.vue_vue_type_script_setup_true_lang-BvzwYyad.js";import{C as H,G as J}from"./CalendarIcon-B14_iLAT.js";/**
 * @license lucide-vue-next v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=B("folder-kanban",[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]]);/**
 * @license lucide-vue-next v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=B("linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]),Q={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"refresh-icon"},W=M({__name:"RefreshCcwIcon",setup(t){return(c,i)=>(r(),o("svg",Q,[...i[0]||(i[0]=[e("path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"},null,-1),e("path",{d:"M3 3v5h5"},null,-1)])]))}}),Y=$(W,[["__scopeId","data-v-836874e2"]]),Z={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"email-icon"},X=M({__name:"EmailIcon",setup(t){return(c,i)=>(r(),o("svg",Z,[...i[0]||(i[0]=[e("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},null,-1),e("polyline",{points:"22,6 12,13 2,6"},null,-1)])]))}}),ee=$(X,[["__scopeId","data-v-34d34cfa"]]),Ue=async t=>{const c=await C.get("/api/members",{params:t});return S(c,"获取成员列表失败"),z(c.data,t)},qe=async t=>{const c=await C.post("/api/members",t);return D(c,"创建成员失败")},Ge=async(t,c)=>{const i=await C.put(`/api/members/${t}`,c);return D(i,"更新成员失败")},Pe=async t=>{const c=await C.delete(`/api/members/${t}`);S(c,"删除成员失败")},te={class:"member-filter"},se={class:"search-section"},ae={class:"search-input-wrapper"},ne={class:"filter-section"},le={class:"filter-chips"},oe=["onClick"],re={key:0,class:"count"},ie={class:"filter-section"},ce={class:"filter-chips"},de=["onClick"],me={class:"filter-section"},ue={class:"filter-section"},he={class:"status-toggle"},ve={class:"toggle-item"},be={class:"filter-actions"},fe=M({__name:"MemberFilter",props:{filters:{},roles:{default:()=>[{id:"all",name:"全部成员",count:28},{id:"leader",name:"组长"},{id:"tech-lead",name:"技术负责人"},{id:"developer",name:"开发成员"},{id:"researcher",name:"研究员"}]},techStacks:{default:()=>["Solidity","Web3.js","React","Vue.js","Python","Django","Node.js","TypeScript","IPFS","Ethereum","DeFi","NFT"]}},emits:["update:filters","change"],setup(t,{emit:c}){const i=t,p=c,n=V(Object.assign({},{search:"",role:"all",skills:[],sortBy:"name",isActive:void 0},i.filters));L(()=>i.filters,f=>{n.value={...n.value,...f}},{deep:!0});const u=()=>{b()},l=()=>{n.value.search="",b()},m=f=>{n.value.role=f,b()},w=f=>{const s=n.value.skills,a=s.indexOf(f);a>-1?s.splice(a,1):s.push(f),b()},A=()=>{b()},E=()=>{b()},N=()=>{n.value={search:"",role:"all",skills:[],sortBy:"name",isActive:void 0},b()},b=()=>{p("update:filters",{...n.value}),p("change",{...n.value})};return(f,s)=>(r(),o("div",te,[e("div",se,[e("div",ae,[h(v(G),{class:"search-icon"}),x(e("input",{"onUpdate:modelValue":s[0]||(s[0]=a=>n.value.search=a),type:"text",placeholder:"搜索成员姓名或技能...",class:"search-input",onInput:u},null,544),[[T,n.value.search]]),n.value.search?(r(),o("button",{key:0,class:"clear-btn",onClick:l},[h(v(P))])):k("",!0)])]),e("div",ne,[s[3]||(s[3]=e("h4",{class:"filter-title"}," 角色分类 ",-1)),e("div",le,[(r(!0),o(g,null,_(t.roles,a=>(r(),o("button",{key:a.id,class:y(["filter-chip",{active:n.value.role===a.id}]),onClick:R=>m(a.id)},[I(d(a.name)+" ",1),a.count!==void 0?(r(),o("span",re,"("+d(a.count)+")",1)):k("",!0)],10,oe))),128))])]),e("div",ie,[s[4]||(s[4]=e("h4",{class:"filter-title"}," 技术栈 ",-1)),e("div",ce,[(r(!0),o(g,null,_(t.techStacks,a=>(r(),o("button",{key:a,class:y(["filter-chip",{active:n.value.skills.includes(a)}]),onClick:R=>w(a)},d(a),11,de))),128))])]),e("div",me,[s[6]||(s[6]=e("h4",{class:"filter-title"}," 排序方式 ",-1)),x(e("select",{"onUpdate:modelValue":s[1]||(s[1]=a=>n.value.sortBy=a),class:"sort-select",onChange:A},[...s[5]||(s[5]=[e("option",{value:"name"}," 按姓名排序 ",-1),e("option",{value:"joinDate"}," 按加入时间 ",-1),e("option",{value:"projectCount"}," 按项目数量 ",-1),e("option",{value:"role"}," 按角色 ",-1)])],544),[[U,n.value.sortBy]])]),e("div",ue,[s[9]||(s[9]=e("h4",{class:"filter-title"}," 成员状态 ",-1)),e("div",he,[e("label",ve,[x(e("input",{"onUpdate:modelValue":s[2]||(s[2]=a=>n.value.isActive=a),type:"checkbox",onChange:E},null,544),[[q,n.value.isActive]]),s[7]||(s[7]=e("span",{class:"toggle-switch"},null,-1)),s[8]||(s[8]=e("span",{class:"toggle-label"},"仅显示活跃成员",-1))])])]),e("div",be,[e("button",{class:"clear-all-btn",onClick:N},[h(v(Y)),s[10]||(s[10]=I(" 清除所有筛选 ",-1))])])]))}}),He=$(fe,[["__scopeId","data-v-631aadf1"]]),ke={class:"card-front"},pe={class:"member-avatar"},ge=["src","alt"],_e={class:"member-name"},ye={key:0,class:"member-grade"},$e={class:"member-skills"},Ce={class:"member-stats"},Me={class:"stat"},we={class:"stat-text"},xe={class:"stat"},Fe={class:"stat-text"},je={class:"card-back"},Ie={class:"member-name"},Se={class:"member-bio"},De={class:"member-links"},Ve=["href"],Be=["href"],Ae=["href"],Ee={class:"member-skills-full"},Ne=M({__name:"MemberCard",props:{member:{}},setup(t,{expose:c}){const i=V(!1),p=u=>({组长:"leader",技术负责人:"tech-lead",前端开发:"frontend",后端开发:"backend",区块链开发:"blockchain",开发成员:"developer",研究员:"researcher"})[u]||"default",j=u=>{if(!u)return"未知";try{const l=new Date(u),m=l.getFullYear(),w=l.getMonth()+1;return`${m}年${w}月加入`}catch{return u}},n=u=>{const l=u.target;l.src="/images/default-avatar.png"};return c({isFlipped:i}),(u,l)=>(r(),o("div",{class:"member-card-container",onMouseenter:l[3]||(l[3]=m=>i.value=!0),onMouseleave:l[4]||(l[4]=m=>i.value=!1)},[e("div",{class:y(["card-inner",{"is-flipped":i.value}])},[e("div",ke,[e("div",pe,[e("img",{src:t.member.avatar||"/images/default-avatar.png",alt:t.member.name,onError:n},null,40,ge),e("div",{class:y(["member-role-badge",`role-${p(t.member.role)}`])},d(t.member.role),3)]),e("h3",_e,d(t.member.name),1),t.member.grade&&t.member.major?(r(),o("p",ye,d(t.member.grade)+" • "+d(t.member.major),1)):k("",!0),e("div",$e,[(r(!0),o(g,null,_(t.member.skills.slice(0,3),m=>(r(),o("span",{key:m,class:"skill-tag"},d(m),1))),128))]),e("div",Ce,[e("div",Me,[h(v(H),{class:"stat-icon"}),e("span",we,d(j(t.member.joinDate)),1)]),e("div",xe,[h(v(K),{class:"stat-icon"}),e("span",Fe,d(t.member.projectCount||Math.floor(Math.random()*10)+1)+"个项目",1)])])]),e("div",je,[e("h3",Ie,d(t.member.name),1),e("p",Se,d(t.member.bio||"暂无个人简介"),1),e("div",De,[t.member.github?(r(),o("a",{key:0,href:t.member.github,target:"_blank",class:"link-btn",onClick:l[0]||(l[0]=F(()=>{},["stop"]))},[h(v(J))],8,Ve)):k("",!0),t.member.email?(r(),o("a",{key:1,href:`mailto:${t.member.email}`,class:"link-btn",onClick:l[1]||(l[1]=F(()=>{},["stop"]))},[h(v(ee))],8,Be)):k("",!0),t.member.linkedin?(r(),o("a",{key:2,href:t.member.linkedin,target:"_blank",class:"link-btn",onClick:l[2]||(l[2]=F(()=>{},["stop"]))},[h(v(O))],8,Ae)):k("",!0)]),e("div",Ee,[(r(!0),o(g,null,_(t.member.skills,m=>(r(),o("span",{key:m,class:"skill-tag"},d(m),1))),128))])])],2)],32))}}),Je=$(Ne,[["__scopeId","data-v-23a66d1e"]]);export{ee as E,K as F,He as M,Je as a,qe as c,Pe as d,Ue as g,Ge as u};
//# sourceMappingURL=MemberCard-KWpmyef1.js.map
